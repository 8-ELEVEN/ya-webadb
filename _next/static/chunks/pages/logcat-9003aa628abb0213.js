(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[793],{1577:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logcat",function(){return i(3691)}])},3691:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return P}});var s=i(4471),h=i(6259),r=i(1058),n=i(3537),o=i(7609),l=i(7405),d=i(1893),c=i(7386);function u(t,e,i,s){s!==e&&t.set(t.subarray(s,e),s+1),t[s]=i}function a(t,e,i){i<e-1&&t.set(t.subarray(i+1,e),i)}class y{order;mid;minKeyCount;keys;keyCount;height;children;constructor(t,e,i,s,h){this.order=t,this.mid=this.order>>1,this.minKeyCount=(this.order+1>>1)-1,this.keys=e,this.keyCount=i,this.height=s,this.children=h}split(t,e,i){let s,h;let r=new Int32Array(this.order-1);return e<this.mid?(s=this.keys[this.mid-1],r.set(this.keys.subarray(this.mid),0),u(this.keys,this.mid-1,t,e),i?(h=this.children.splice(this.mid,this.order-this.mid),this.children.splice(e+1,0,i)):h=Array(this.order)):(e===this.mid?(s=t,r.set(this.keys.subarray(this.mid),0)):(s=this.keys[this.mid],e!==this.mid+1&&r.set(this.keys.subarray(this.mid+1,e),0),r[e-this.mid-1]=t,r.set(this.keys.subarray(e),e-this.mid)),i?(h=this.children.splice(this.mid+1,this.order-this.mid-1)).splice(e-this.mid,0,i):h=Array(this.order)),this.keyCount=this.mid,{key:s,child:new y(this.order,r,this.order-1-this.mid,this.height,h)}}search(t){let e=0,i=this.keyCount-1;for(;e<=i;){let s=e+i>>1;if(this.keys[s]===t)return s;this.keys[s]<t?e=s+1:i=s-1}return~e}has(t){let e=this.search(t);return e>=0||this.height>0&&(e=~e,this.children[e].has(t))}add(t){let e=this.search(t);if(e>=0)return!1;if(e=~e,0===this.height)return this.keyCount===this.order-1?this.split(t,e):(u(this.keys,this.keyCount,t,e),this.keyCount+=1,!0);let i=this.children[e].add(t);if("object"==typeof i){if(this.keyCount===this.order-1)return this.split(i.key,e,i.child);u(this.keys,this.keyCount,i.key,e),this.keyCount+=1,this.children.splice(e+1,0,i.child)}return!0}delete(t){let e=this.search(t);if(e>=0)return this.deleteAt(e),!0;if(this.height>0){e=~e;let i=this.children[e].delete(t);return i&&this.balance(e),i}return!1}max(){return 0===this.height?this.keys[this.keyCount-1]:this.children[this.keyCount].max()}balance(t){let e=this.children[t];if(e.keyCount>=this.minKeyCount)return;if(t>0){let i=this.children[t-1];if(i.keyCount>this.minKeyCount){u(e.keys,e.keyCount,this.keys[t-1],0),this.height>1&&e.children.splice(0,0,i.children[i.keyCount]),e.keyCount+=1,this.keys[t-1]=i.keys[i.keyCount-1],i.keyCount-=1;return}if(i.keys[i.keyCount]=this.keys[t-1],i.keyCount+=1,i.keys.set(e.keys.subarray(0,e.keyCount),i.keyCount),this.height>1)for(let s=0;s<=e.keyCount;s+=1)i.children[i.keyCount+s]=e.children[s];i.keyCount+=e.keyCount,a(this.keys,this.keyCount,t-1),this.children.splice(t,1),this.keyCount-=1;return}let h=this.children[t+1];if(h.keyCount>this.minKeyCount){e.keys[e.keyCount]=this.keys[t],this.height>1&&(e.children[e.keyCount+1]=h.children.splice(0,1)[0]),e.keyCount+=1,this.keys[t]=h.keys[0],a(h.keys,h.keyCount,0),h.keyCount-=1;return}if(e.keys[e.keyCount]=this.keys[t],e.keyCount+=1,e.keys.set(h.keys.subarray(0,h.keyCount),e.keyCount),this.height>1)for(let r=0;r<=h.keyCount;r+=1)e.children[e.keyCount+r]=h.children[r];e.keyCount+=h.keyCount,a(this.keys,this.keyCount,t),this.children.splice(t+1,1),this.keyCount-=1}deleteMax(){if(0===this.height){this.keyCount-=1;return}let t=this.children[this.keyCount];t.deleteMax(),this.balance(this.keyCount)}deleteAt(t){if(0===this.height){a(this.keys,this.keyCount,t),this.keyCount-=1;return}let e=this.children[t].max();this.keys[t]=e,this.children[t].deleteMax(),this.balance(t)}*[Symbol.iterator](){if(this.height>0){for(let t=0;t<this.keyCount;t+=1)yield*this.children[t],yield this.keys[t];yield*this.children[this.keyCount]}else for(let e=0;e<this.keyCount;e+=1)yield this.keys[e]}}class k{order;root;size=0;constructor(t){this.order=t,this.root=new y(t,new Int32Array(t-1),0,0,Array(t))}has(t){let e=this.root;for(;;){let i=e.search(t);if(i>=0)return!0;if(!(e=e.children[~i]))return!1}}add(t){let e=this.root.add(t);if("object"==typeof e){let i=new Int32Array(this.order-1);i[0]=e.key;let s=Array(this.order);s[0]=this.root,s[1]=e.child,this.root=new y(this.order,i,1,this.root.height+1,s)}return e&&(this.size+=1),!!e}delete(t){let e=this.root.delete(t);return e&&(this.root.height>0&&0===this.root.keyCount&&(this.root=this.root.children[0]),this.size-=1),e}clear(){this.root.keyCount=0,this.root.height=0,this.root.children=Array(this.order),this.size=0}[Symbol.iterator](){return this.root[Symbol.iterator]()}}var C=i(6261),m=i(6323),f=i(6779),g=i(6609),p=i.n(g),w=i(3370),b=i(6803),x=i(6328),v=i(9367);let j=(0,o.Z)({grid:{height:"100%",marginLeft:"-16px",marginRight:"-16px"},header:{textAlign:"center",lineHeight:"".concat(32,"px")},row:{"&:hover":{backgroundColor:"#f3f2f1"}},selected:{backgroundColor:"#edebe9"},code:{fontFamily:"monospace",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"32px",cursor:"default",...l.q5.overflow("hidden")}}),N=(0,m.ky)({logcat:void 0,running:!1,buffer:[],flushRequested:!1,list:[],selection:new k(6),count:0,stream:void 0,stopSignal:void 0,selectedCount:0,animationFrameId:void 0,start(){this.running||(this.list=[],this.running=!0,this.stream=this.logcat.binary(),this.stopSignal=new C.HS,this.stream.pipeTo(new C.Vj({write:t=>{this.buffer.push(t),this.flushRequested||(this.flushRequested=!0,requestAnimationFrame(this.flush))}}),{signal:this.stopSignal.signal}).catch(()=>{}))},flush(){this.list.push(...this.buffer),this.buffer=[],this.flushRequested=!1},stop(){this.running=!1,this.stopSignal.abort()},clear(){this.list=[],this.selection.clear(),this.selectedCount=0},get empty(){return 0===this.list.length},get commandBar(){return[this.running?{key:"stop",text:"Stop",iconProps:{iconName:v.PJ.Stop},onClick:()=>this.stop()}:{key:"start",text:"Start",disabled:void 0===this.logcat,iconProps:{iconName:v.PJ.Play},onClick:()=>this.start()},{key:"clear",text:"Clear",disabled:this.empty,iconProps:{iconName:v.PJ.Delete},onClick:()=>this.clear()},{key:"copyAll",text:"Copy Rows",disabled:0===this.selectedCount,iconProps:{iconName:v.PJ.Copy},onClick:()=>{let t="";for(let e of this.selection)t+=(0,c.oo)(this.list[e],c.vj.Brief)+"\n";t=t.replace(/\u0000/g,""),navigator.clipboard.writeText(t)}},{key:"copyText",text:"Copy Messages",disabled:0===this.selectedCount,iconProps:{iconName:v.PJ.Copy},onClick:()=>{let t="";for(let e of this.selection)t+=this.list[e].message+"\n";t=t.replace(/\u0000/g,""),navigator.clipboard.writeText(t)}}]},get columns(){return[{width:40,title:"",CellComponent:t=>{let{rowIndex:e,columnIndex:i,className:n,...o}=t,[l,d]=(0,w.useState)(!1);(0,w.useEffect)(()=>{d(this.selection.has(e))},[e]);let c=(0,v.R9)((t,i)=>{void 0!==i&&(i?(this.selection.add(e),d(!0)):(this.selection.delete(e),d(!1)),(0,m.z)(()=>{this.selectedCount=this.selection.size}))});return(0,s.jsx)(h.K,{className:n,verticalAlign:"center",horizontalAlign:"center",...o,children:(0,s.jsx)(r.X,{checked:l,onChange:c})})}},{width:200,title:"Time",CellComponent:t=>{let{rowIndex:e,columnIndex:i,className:h,...r}=t,n=this.list[e];n.timeString||(n.timeString=new Date(1e3*n.second).toISOString());let o=j();return(0,s.jsx)("div",{className:(0,d.z)(o.code,h),...r,children:n.timeString})}},{width:60,title:"PID",CellComponent:t=>{let{rowIndex:e,columnIndex:i,className:h,...r}=t,n=this.list[e],o=j();return(0,s.jsx)("div",{className:(0,d.z)(o.code,h),...r,children:n.pid})}},{width:60,title:"TID",CellComponent:t=>{let{rowIndex:e,columnIndex:i,className:h,...r}=t,n=this.list[e],o=j();return(0,s.jsx)("div",{className:(0,d.z)(o.code,h),...r,children:n.tid})}},{width:80,title:"Priority",CellComponent:t=>{let{rowIndex:e,columnIndex:i,className:h,...r}=t,n=this.list[e],o=j();return(0,s.jsx)("div",{className:(0,d.z)(o.code,h),...r,children:c.As[n.priority]})}},{width:300,title:"Tag",CellComponent:t=>{let{rowIndex:e,columnIndex:i,className:h,...r}=t,n=this.list[e],o=j();return(0,s.jsx)("div",{className:(0,d.z)(o.code,h),...r,children:n.tag})}},{width:300,flexGrow:1,title:"Message",CellComponent:t=>{let{rowIndex:e,columnIndex:i,className:h,...r}=t,n=this.list[e],o=j();return(0,s.jsx)("div",{className:(0,d.z)(o.code,h),...r,children:n.message})}}]}},{buffer:!1,list:m.LO.shallow,flush:m.aD.bound});(0,m.EH)(()=>{x.q.device?(0,m.z)(()=>{N.logcat=new c.J(x.q.device)}):(0,m.z)(()=>{N.logcat=void 0,N.running&&N.stop()})});let z=(0,f.Pi)(function(t){let{className:e,columnIndex:i,...h}=t,r=j();return(0,s.jsx)("div",{className:(0,d.z)(e,r.header),...h,children:N.columns[i].title})}),S=function(t){let{className:e,rowIndex:i,...h}=t;N.list[i];let r=j(),n=(0,v.R9)(()=>{(0,m.z)(()=>{})});return(0,s.jsx)("div",{className:(0,d.z)(e,r.row),onClick:n,...h})},A=()=>{let t=j();return(0,s.jsxs)(h.K,{...v.LE,children:[(0,s.jsx)(p(),{children:(0,s.jsx)("title",{children:"Logcat - Android Web Toolbox"})}),(0,s.jsx)(b.X3,{items:N.commandBar}),(0,s.jsx)(n.v,{grow:!0,children:(0,s.jsx)(b.rj,{className:t.grid,rowCount:N.list.length,rowHeight:32,columns:N.columns,HeaderComponent:z,RowComponent:S})})]})};var P=(0,f.Pi)(A)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=1577)}),_N_E=t.O()}]);
//# sourceMappingURL=logcat-9003aa628abb0213.js.map