{"version":3,"file":"static/chunks/pages/chrome-devtools-frame-32c92ae9200f0306.js","mappings":"oFACA,CAAAA,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,yBACA,WACA,OAAeC,EAAQ,KACvB,EACA,0DCJA,SAASC,GAAsB,CA4F3B,MA3FAC,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,IAAM,CACZ,MAAIC,EAAoBC,WAAWC,SAAS,CAC5CD,WAAWC,SAAS,CAAAC,CAAAA,CAAAA,EAAG,cAAwBC,YAsE3CC,KAAKC,CAAiB,CAAE,CACpB,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAEC,KAAM,UAAWC,QAASJ,CAAK,EAC5D,CAEOK,OAAQ,CACX,IAAI,CAACJ,KAAK,CAACC,WAAW,CAAC,CAAEC,KAAM,OAAQ,GACvC,IAAI,CAACF,KAAK,CAACI,KAAK,EACpB,CA7CAC,YAAYC,CAAW,CAAE,CACrB,KAAK,QA3BOC,UAAAA,CAAgB,OAChBC,IAAAA,CAAU,OACVC,OAAAA,CAAa,OACbC,MAAAA,CAAY,OAErBC,UAAAA,CAAyB,mBAChBC,cAAAA,CAAyB,OACzBC,UAAAA,CAAqB,QAErBC,QAAAA,CAAmB,QACnBC,UAAAA,CAAqB,OAK9BC,OAAAA,CACH,IAAI,CAC8E,KAC/EC,OAAAA,CAAwD,IAAI,CACqB,KACjFC,SAAAA,CAEM,IAAI,CACoE,KAC9EC,MAAAA,CAAuD,IAAI,CAK9DC,QAAQC,GAAG,CAAC,wBAAyBf,GACrC,IAAI,CAACA,GAAG,CAAGA,EAEX,IAAIgB,EAAU,IAAIC,eAGlB,GAFA,IAAI,CAACvB,KAAK,CAAGsB,EAAQE,KAAK,CAEtBlB,EAAImB,QAAQ,CAAC,WAGb,OAFA,IAAI,CAACzB,KAAK,CAACI,KAAK,GAET,IAAIX,EAAkBa,EAChC,CAED,IAAI,CAACN,KAAK,CAACkB,SAAS,CAAG,GAAO,KAGlBQ,EAGAC,EAOAC,EAZR,OAAQC,EAAE9B,IAAI,CAACG,IAAI,EACf,IAAK,OACD,IAAW,GAAXwB,CAAAA,EAAA,IAAI,CAACP,MAAM,GAAXO,KAAA,IAAAA,GAAAA,EAAAI,IAAA,KAAI,CAAU,IAAIC,MAAM,SACxB,KAAM,KACL,UACD,IAAc,GAAdJ,CAAAA,EAAA,IAAI,CAACT,SAAS,GAAdS,KAAA,IAAAA,GAAAA,EAAAG,IAAA,KAAI,CACA,IAAIE,aAAa,UAAW,CACxBjC,KAAM8B,EAAE9B,IAAI,CAACI,OAAO,IAG5B,KAAM,KACL,QACD,IAAY,GAAZyB,CAAAA,EAAA,IAAI,CAACZ,OAAO,GAAZY,KAAA,IAAAA,GAAAA,EAAAE,IAAA,KAAI,CAAW,IAAIG,WAAW,UAC9B,IAAI,CAACjC,KAAK,CAACI,KAAK,EAExB,CACJ,EACAjB,OAAOc,WAAW,CAAC,CAAEC,KAAM,eAAgBI,IAAAA,CAAI,EAAG,IAAK,CACnDgB,EAAQY,KAAK,CAChB,CACL,CAUJ,GA7E2B3B,UAAAA,CAAgB,EAAAX,EAChBY,IAAAA,CAAU,EAAAZ,EACVa,OAAAA,CAAa,EAAAb,EACbc,MAAAA,CAAY,EAAAd,CAAA,EA2EvCwB,QAAQC,GAAG,CAAC,oBAEZ,IAAMc,EAASC,SAASC,aAAa,CAAC,SACtCF,CAAAA,EAAOjC,IAAI,CAAG,SACdiC,EAAOG,GAAG,CAAG,IAAIC,gBAAgBC,SAASC,MAAM,EAAEC,GAAG,CACjD,UAEJN,SAASO,IAAI,CAACC,WAAW,CAACT,EAC9B,EAAG,EAAE,EAEE,IAAI,CAEf5C,EAAoBsD,QAAQ,CAAG,GAC/BC,EAAA,QAAevD","sources":["webpack://_N_E/?8224","webpack://_N_E/./src/pages/chrome-devtools-frame.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/chrome-devtools-frame\",\n      function () {\n        return require(\"private-next-pages/chrome-devtools-frame.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/chrome-devtools-frame\"])\n      });\n    }\n  ","import { useEffect } from \"react\";\n\nfunction ChromeDevToolsFrame() {\n    useEffect(() => {\n        var WebSocketOriginal = globalThis.WebSocket;\n        globalThis.WebSocket = class WebSocket extends EventTarget {\n            public static readonly CONNECTING: 0 = 0;\n            public static readonly OPEN: 1 = 1;\n            public static readonly CLOSING: 2 = 2;\n            public static readonly CLOSED: 3 = 3;\n\n            public readonly CONNECTING: 0 = 0;\n            public readonly OPEN: 1 = 1;\n            public readonly CLOSING: 2 = 2;\n            public readonly CLOSED: 3 = 3;\n\n            public binaryType: BinaryType = \"arraybuffer\";\n            public readonly bufferedAmount: number = 0;\n            public readonly extensions: string = \"\";\n\n            public readonly protocol: string = \"\";\n            public readonly readyState: number = 1;\n            public readonly url: string;\n\n            private _port: MessagePort;\n\n            public onclose: ((this: WebSocket, ev: CloseEvent) => any) | null =\n                null;\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/error_event) */\n            public onerror: ((this: WebSocket, ev: Event) => any) | null = null;\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/message_event) */\n            public onmessage:\n                | ((this: WebSocket, ev: MessageEvent) => any)\n                | null = null;\n            /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/WebSocket/open_event) */\n            public onopen: ((this: WebSocket, ev: Event) => any) | null = null;\n\n            constructor(url: string) {\n                super();\n\n                console.log(\"WebSocket constructor\", url);\n                this.url = url;\n\n                var channel = new MessageChannel();\n                this._port = channel.port1;\n\n                if (url.includes(\"/_next/\")) {\n                    this._port.close();\n                    // @ts-ignore\n                    return new WebSocketOriginal(url);\n                }\n\n                this._port.onmessage = (e) => {\n                    switch (e.data.type) {\n                        case \"open\":\n                            this.onopen?.(new Event(\"open\"));\n                            break;\n                        case \"message\":\n                            this.onmessage?.(\n                                new MessageEvent(\"message\", {\n                                    data: e.data.message,\n                                })\n                            );\n                            break;\n                        case \"close\":\n                            this.onclose?.(new CloseEvent(\"close\"));\n                            this._port.close();\n                            break;\n                    }\n                };\n                window.postMessage({ type: \"AdbWebSocket\", url }, \"*\", [\n                    channel.port2,\n                ]);\n            }\n\n            send(data: ArrayBuffer) {\n                this._port.postMessage({ type: \"message\", message: data });\n            }\n\n            public close() {\n                this._port.postMessage({ type: \"close\" });\n                this._port.close();\n            }\n        } as typeof WebSocket;\n        console.log(\"WebSocket hooked\");\n\n        const script = document.createElement(\"script\");\n        script.type = \"module\";\n        script.src = new URLSearchParams(location.search).get(\n            \"script\"\n        ) as string;\n        document.body.appendChild(script);\n    }, []);\n\n    return null;\n}\nChromeDevToolsFrame.noLayout = true;\nexport default ChromeDevToolsFrame;\n"],"names":["window","__NEXT_P","push","__webpack_require__","ChromeDevToolsFrame","useEffect","WebSocketOriginal","globalThis","WebSocket","_WebSocket","EventTarget","send","data","_port","postMessage","type","message","close","constructor","url","CONNECTING","OPEN","CLOSING","CLOSED","binaryType","bufferedAmount","extensions","protocol","readyState","onclose","onerror","onmessage","onopen","console","log","channel","MessageChannel","port1","includes","_this_onopen","_this_onmessage","_this_onclose","e","call","Event","MessageEvent","CloseEvent","port2","script","document","createElement","src","URLSearchParams","location","search","get","body","appendChild","noLayout","__webpack_exports__"],"sourceRoot":""}