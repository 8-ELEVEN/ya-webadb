(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[793],{967:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logcat",function(){return i(1486)}])},1486:function(e,t,i){"use strict";i.r(t);var s=i(4471),n=i(2093),o=i(4992),l=i(4045),r=i(6731),a=i(4601),c=i(7386),h=i(6261),d=i(6323),u=i(6779),p=i(9614),g=i.n(p),m=i(9883),f=i(1001),w=i(97),x=i(5235);let C=(0,l.Z)({grid:{height:"100%",marginLeft:"-16px",marginRight:"-16px"},header:{textAlign:"center",lineHeight:"".concat(32,"px")},row:{"&:hover":{backgroundColor:"#f3f2f1"}},selected:{backgroundColor:"#edebe9"},code:{fontFamily:"monospace",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"32px",cursor:"default",...r.q5.overflow("hidden")}}),v=(0,d.ky)({logcat:void 0,running:!1,buffer:[],flushRequested:!1,list:[],selection:new x.ObservableListSelection,count:0,stream:void 0,stopSignal:void 0,animationFrameId:void 0,start(){this.running||(this.list=[],this.running=!0,this.stream=this.logcat.binary(),this.stopSignal=new h.HS,this.stream.pipeTo(new h.Vj({write:e=>{this.buffer.push(e),this.flushRequested||(this.flushRequested=!0,requestAnimationFrame(this.flush))}}),{signal:this.stopSignal.signal}).catch(()=>{}))},flush(){this.list.push(...this.buffer),this.buffer=[],this.flushRequested=!1},stop(){this.running=!1,this.stopSignal.abort()},clear(){this.list=[],this.selection.clear()},get empty(){return 0===this.list.length},get commandBar(){return[this.running?{key:"stop",text:"Stop",iconProps:{iconName:w.PJ.Stop},onClick:()=>this.stop()}:{key:"start",text:"Start",disabled:void 0===this.logcat,iconProps:{iconName:w.PJ.Play},onClick:()=>this.start()},{key:"clear",text:"Clear",disabled:this.empty,iconProps:{iconName:w.PJ.Delete},onClick:()=>this.clear()},{key:"copyAll",text:"Copy Rows",disabled:0===this.selection.size,iconProps:{iconName:w.PJ.Copy},onClick:()=>{let e="";for(let t of this.selection)e+=(0,c.oo)(this.list[t],c.vj.Brief)+"\n";e=e.replace(/\u0000/g,""),navigator.clipboard.writeText(e)}},{key:"copyText",text:"Copy Messages",disabled:0===this.selection.size,iconProps:{iconName:w.PJ.Copy},onClick:()=>{let e="";for(let t of this.selection)e+=this.list[t].message+"\n";e=e.replace(/\u0000/g,""),navigator.clipboard.writeText(e)}}]},get columns(){return[{width:200,title:"Time",CellComponent:e=>{let{rowIndex:t,columnIndex:i,className:n,...o}=e,l=this.list[t];l.timeString||(l.timeString=new Date(1e3*l.second).toISOString());let r=C();return(0,s.jsx)("div",{className:(0,a.z)(r.code,n),...o,children:l.timeString})}},{width:60,title:"PID",CellComponent:e=>{let{rowIndex:t,columnIndex:i,className:n,...o}=e,l=this.list[t],r=C();return(0,s.jsx)("div",{className:(0,a.z)(r.code,n),...o,children:l.pid})}},{width:60,title:"TID",CellComponent:e=>{let{rowIndex:t,columnIndex:i,className:n,...o}=e,l=this.list[t],r=C();return(0,s.jsx)("div",{className:(0,a.z)(r.code,n),...o,children:l.tid})}},{width:80,title:"Priority",CellComponent:e=>{let{rowIndex:t,columnIndex:i,className:n,...o}=e,l=this.list[t],r=C();return(0,s.jsx)("div",{className:(0,a.z)(r.code,n),...o,children:c.As[l.priority]})}},{width:300,title:"Tag",CellComponent:e=>{let{rowIndex:t,columnIndex:i,className:n,...o}=e,l=this.list[t],r=C();return(0,s.jsx)("div",{className:(0,a.z)(r.code,n),...o,children:l.tag})}},{width:300,flexGrow:1,title:"Message",CellComponent:e=>{let{rowIndex:t,columnIndex:i,className:n,...o}=e,l=this.list[t],r=C();return(0,s.jsx)("div",{className:(0,a.z)(r.code,n),...o,children:l.message})}}]}},{buffer:!1,list:d.LO.shallow,flush:d.aD.bound});(0,d.EH)(()=>{f.d.device?(0,d.z)(()=>{v.logcat=new c.J(f.d.device)}):(0,d.z)(()=>{v.logcat=void 0,v.running&&v.stop()})});let b=(0,u.Pi)(function(e){let{className:t,columnIndex:i,...n}=e,o=C();return(0,s.jsx)("div",{className:(0,a.z)(t,o.header),...n,children:v.columns[i].title})}),y=(0,u.Pi)(function(e){let{className:t,rowIndex:i,...n}=e,o=C(),l=(0,w.R9)(e=>{(0,d.z)(()=>{e.preventDefault(),e.stopPropagation(),v.selection.select(i,e.ctrlKey,e.shiftKey)})});return(0,s.jsx)("div",{className:(0,a.z)(t,o.row,v.selection.has(i)&&o.selected),onPointerDown:l,...n})}),P=()=>{let e=C();return(0,s.jsxs)(n.K,{...w.LE,children:[(0,s.jsx)(g(),{children:(0,s.jsx)("title",{children:"Logcat - Android Web Toolbox"})}),(0,s.jsx)(m.X3,{items:v.commandBar}),(0,s.jsx)(o.v,{grow:!0,children:(0,s.jsx)(m.rj,{className:e.grid,rowCount:v.list.length,rowHeight:32,columns:v.columns,HeaderComponent:b,RowComponent:y})})]})};t.default=(0,u.Pi)(P)}},function(e){e.O(0,[235,774,888,179],function(){return e(e.s=967)}),_N_E=e.O()}]);
//# sourceMappingURL=logcat-f896c79410337ff6.js.map