(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{4125:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shell",function(){return n(3704)}])},4674:function(e,t,n){"use strict";n.d(t,{i:function(){return v}});var r=n(9280),o=n(458),i=n(7807),c=n(4014),a=n(8806),s=n(3374);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function f(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var h=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(f,e);var t,n,o,u=p(f);function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(e=u.call(this)).element=document.createElement("div"),e.terminal=new i.Terminal({scrollback:9e3}),e.searchAddon=new a.SearchAddon,e.fitAddon=new c.FitAddon,e.element.style.width="100%",e.element.style.height="100%",e.element.style.overflow="hidden",e.terminal.options.fontFamily='"Cascadia Code", Consolas, monospace, "Source Han Sans SC", "Microsoft YaHei"',e.terminal.options.letterSpacing=1,e.terminal.options.cursorStyle="bar",e.terminal.loadAddon(e.searchAddon),e.terminal.loadAddon(e.fitAddon),e}return t=f,(n=[{key:"socket",get:function(){return this._shell},set:function(e){if(this._shell&&this.dispose(),this._shell=e,e){var t=this;this.terminal.clear(),this.terminal.reset(),this.addDisposable(e.onStdout((function(e){t.terminal.write(new Uint8Array(e))}))),this.addDisposable(e.onStderr((function(e){t.terminal.write(new Uint8Array(e))}))),this.addDisposable(this.terminal.onData((function(t){var n=(0,r.lz)(t);e.write(n)}))),this.fit()}}},{key:"setContainer",value:function(e){e.appendChild(this.element),this.terminal.element||(this.element.offsetWidth,this.terminal.open(this.element),this.terminal.loadAddon(new s.WebglAddon),this.terminal.options.cursorBlink=!0,this.fit())}},{key:"fit",value:function(){var e;this.fitAddon.fit();var t=this.terminal,n=t.rows,r=t.cols;null===(e=this._shell)||void 0===e||e.resize(n,r)}}])&&l(t.prototype,n),o&&l(t,o),f}(o.Xn)},3704:function(e,t,n){"use strict";n.r(t);var r,o=n(4147),i=n.n(o),c=n(5202),a=n(7641),s=n(9675),l=n(3094),u=n(514),f=n(7771),d=n(3695),h=n(3715),p=n(6393),v=(n(1516),n(6729)),b=n(7482);function m(e,t,n,r,o,i,c){try{var a=e[i](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(r,o)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=n(4674).i;r=new w;var j={width:"100%",height:"100%"},k={iconName:b.PJ.ChevronUp},x={iconName:b.PJ.ChevronDown};t.default=(0,d.Pi)((function(){var e=(0,p.useState)(""),t=e[0],n=e[1],o=(0,p.useCallback)((function(e,t){n(null!==t&&void 0!==t?t:""),t&&r.searchAddon.findNext(t,{incremental:!0})}),[]),d=(0,p.useCallback)((function(){r.searchAddon.findPrevious(t)}),[t]),w=(0,p.useCallback)((function(){r.searchAddon.findNext(t)}),[t]),_=(0,p.useRef)(!1);(0,p.useEffect)((function(){return(0,f.U5)((function(){return v.n2.device}),(e=i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.n2.device){e.next=3;break}return r.socket=void 0,e.abrupt("return");case 3:if(!r.socket&&!_.current){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,_.current=!0,e.next=9,v.n2.device.childProcess.shell();case 9:t=e.sent,r.socket=t,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),v.n2.showErrorDialog((n=e.t0,(null!=(o=Error)&&"undefined"!==typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](n):n instanceof o)?e.t0.message:"".concat(e.t0)));case 16:return e.prev=16,_.current=!1,e.finish(16);case 19:case"end":return e.stop()}var n,o}),e,null,[[5,13,16,19]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){m(i,r,o,c,a,"next",e)}function a(e){m(i,r,o,c,a,"throw",e)}c(void 0)}))}),{fireImmediately:!0});var e}),[]);var g=(0,p.useCallback)((function(){r.fit()}),[]),C=(0,p.useCallback)((function(e){e&&r.setContainer(e)}),[]);return(0,c.jsxs)(a.K,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}({},b.LE,{children:[(0,c.jsx)(h.default,{children:(0,c.jsx)("title",{children:"Screen Capture - WebADB"})}),(0,c.jsx)(s.v,{children:(0,c.jsxs)(a.K,{horizontal:!0,children:[(0,c.jsx)(s.v,{grow:!0,children:(0,c.jsx)(l.R,{placeholder:"Find",value:t,onChange:o,onSearch:w})}),(0,c.jsx)(s.v,{children:(0,c.jsx)(u.h,{disabled:!t,iconProps:k,onClick:d})}),(0,c.jsx)(s.v,{children:(0,c.jsx)(u.h,{disabled:!t,iconProps:x,onClick:w})})]})}),(0,c.jsx)(s.v,{grow:!0,styles:{root:{minHeight:0}},children:(0,c.jsx)(b.do,{style:j,onResize:g,children:(0,c.jsx)("div",{ref:C,style:{height:"100%"}})})})]}))}))}},function(e){e.O(0,[423,632,774,888,179],(function(){return t=4125,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=shell-4f6302c86f05369e.js.map