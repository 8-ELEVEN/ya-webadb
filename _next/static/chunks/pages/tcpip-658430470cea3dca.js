(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{487:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tcpip",function(){return s(8262)}])},8262:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return L}});var n=s(4471),r=s(6259),a=s(3537),t=s(4413),o=s(2778),l=s(3499),c=s(2610),d=s(6865),p=(0,o.L)(function(e){if(null==e.children)return null;e.block,e.className;var i=e.as,s=(e.variant,e.nowrap,(0,l._T)(e,["block","className","as","variant","nowrap"])),n=(0,c.FJ)(e,{root:void 0===i?"span":i});return(0,c.Yb)(n.root,(0,l.pi)({},(0,d.pq)(s,d.iY)))},{displayName:"Text",styles:function(e,i){var s=e.as,n=e.className,r=e.block,a=e.nowrap,t=e.variant,o=i.fonts,l=i.semanticColors,c=o[t||"medium"];return{root:[c,{color:c.color||l.bodyText,display:r?"td"===s?"table-cell":"block":"inline",mozOsxFontSmoothing:c.MozOsxFontSmoothing,webkitFontSmoothing:c.WebkitFontSmoothing},a&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},n]}}}),g=s(9418),m=s(2197),v=s(6323),f=s(6779),u=s(6609),h=s.n(u),b=s(3370),x=s(6803),w=s(6328),k=s(9367);let B=new class{get commandBarItems(){return[{key:"refresh",disabled:!w.q.device,iconProps:{iconName:k.PJ.ArrowClockwise},text:"Refresh",onClick:this.queryInfo},{key:"apply",disabled:!w.q.device,iconProps:{iconName:k.PJ.Save},text:"Apply",onClick:this.applyServicePort}]}constructor(){this.initial=!0,this.visible=!1,this.serviceListenAddresses=void 0,this.servicePortEnabled=!1,this.servicePort="",this.persistPortEnabled=!1,this.persistPort=void 0,this.queryInfo=(0,k.FW)(async e=>{if(!w.q.device){(0,v.z)(()=>{this.serviceListenAddresses=void 0,this.servicePortEnabled=!1,this.servicePort="",this.persistPortEnabled=!1,this.persistPort=void 0});return}let i=await w.q.device.getProp("service.adb.listen_addrs"),s=await w.q.device.getProp("service.adb.tcp.port"),n=await w.q.device.getProp("persist.adb.tcp.port");e.aborted||(0,v.z)(()=>{this.serviceListenAddresses=""!==i?i.split(","):void 0,s?(this.servicePortEnabled=!i&&"0"!==s,this.servicePort=s):(this.servicePortEnabled=!1,this.servicePort="5555"),n?(this.persistPortEnabled=!i&&!s,this.persistPort=n):(this.persistPortEnabled=!1,this.persistPort=void 0)})}),this.applyServicePort=async()=>{w.q.device&&(B.servicePortEnabled?await w.q.device.tcpip.setPort(Number.parseInt(B.servicePort,10)):await w.q.device.tcpip.disable())},(0,v.ky)(this,{initial:!1,queryInfo:!1,applyServicePort:!1}),(0,v.EH)(()=>{w.q.device?this.initial&&this.visible&&(this.initial=!1,this.queryInfo()):this.initial=!0})}},P=()=>{var e;(0,b.useEffect)(()=>((0,v.z)(()=>{B.visible=!0}),()=>{(0,v.z)(()=>{B.visible=!1})}));let i=(0,b.useCallback)((e,i)=>{(0,v.z)(()=>{B.servicePortEnabled=!!i})},[]),s=(0,b.useCallback)((e,i)=>{void 0!==i&&(0,v.z)(()=>B.servicePort=i)},[]);return(0,n.jsxs)(r.K,{...k.LE,children:[(0,n.jsx)(h(),{children:(0,n.jsx)("title",{children:"ADB over WiFi - Android Web Toolbox"})}),(0,n.jsx)(x.X3,{items:B.commandBarItems}),(0,n.jsx)(a.v,{children:(0,n.jsx)(t.c,{children:(0,n.jsxs)(p,{children:["For WebADB to wirelessly connect to your device,",(0,n.jsx)(x.dL,{href:"https://github.com/yume-chan/ya-webadb/discussions/245#discussioncomment-384030",spaceBefore:!0,spaceAfter:!0,children:"extra software"}),"is required."]})})}),(0,n.jsx)(a.v,{children:(0,n.jsx)(t.c,{children:(0,n.jsx)(p,{children:"Your device will disconnect after changing ADB over WiFi config."})})}),(0,n.jsxs)(a.v,{children:[(0,n.jsx)(g.Z,{inlineLabel:!0,label:"service.adb.listen_addrs",disabled:!0,checked:!!B.serviceListenAddresses,onText:"Enabled",offText:"Disabled"}),null===(e=B.serviceListenAddresses)||void 0===e?void 0:e.map(e=>(0,n.jsx)(m.n,{disabled:!0,value:e,styles:{root:{width:300}}},e))]}),(0,n.jsxs)(a.v,{children:[(0,n.jsx)(g.Z,{inlineLabel:!0,label:"service.adb.tcp.port",checked:B.servicePortEnabled,disabled:!w.q.device||!!B.serviceListenAddresses,onText:"Enabled",offText:"Disabled",onChange:i}),(0,n.jsx)(m.n,{disabled:!w.q.device||!!B.serviceListenAddresses,value:B.servicePort,styles:{root:{width:300}},onChange:s})]}),(0,n.jsxs)(a.v,{children:[(0,n.jsx)(g.Z,{inlineLabel:!0,label:"persist.adb.tcp.port",disabled:!0,checked:B.persistPortEnabled,onText:"Enabled",offText:"Disabled"}),B.persistPort&&(0,n.jsx)(m.n,{disabled:!0,value:B.persistPort,styles:{root:{width:300}}})]})]})};var L=(0,f.Pi)(P)},4413:function(e,i,s){"use strict";s.d(i,{c:function(){return N}});var n,r,a,t,o=s(6596),l=s(3499),c=s(3370),d=s(3295),p=s(6865),g=s(4551),m=s(582),v=s(5061),f=s(3721),u=s(5625),h=s(9293),b=s(4373),x=((n={})[u.f.info]="Info",n[u.f.warning]="Info",n[u.f.error]="ErrorBadge",n[u.f.blocked]="Blocked2",n[u.f.severeWarning]="Warning",n[u.f.success]="Completed",n),w=(0,d.y)(),k=function(e){switch(e){case u.f.blocked:case u.f.error:case u.f.severeWarning:return"assertive"}return"polite"},B=function(e){switch(e){case u.f.blocked:case u.f.error:case u.f.severeWarning:return"alert"}return"status"},P=c.forwardRef(function(e,i){var s=(0,h.k)(!1),n=s[0],r=s[1].toggle,a=(0,b.M)("MessageBar"),t=e.actions,o=e.className,d=e.children,P=e.overflowButtonAriaLabel,L=e.dismissIconProps,S=e.styles,y=e.theme,E=e.messageBarType,M=void 0===E?u.f.info:E,N=e.onDismiss,C=void 0===N?void 0:N,W=e.isMultiline,T=void 0===W||W,q=e.truncated,j=e.dismissButtonAriaLabel,A=e.messageBarIconProps,I=e.role,_=e.delayedRender,D=e.expandButtonProps,z=(0,p.pq)(e,p.iY,["className","role"]),F=w(S,{theme:y,messageBarType:M||u.f.info,onDismiss:void 0!==C,actions:void 0!==t,truncated:q,isMultiline:T,expandSingleLine:n,className:o}),H=t?c.createElement("div",{className:F.actions},t):null,J=C?c.createElement(v.h,{disabled:!1,className:F.dismissal,onClick:C,iconProps:L||{iconName:"Clear"},title:j,ariaLabel:j}):null;return c.createElement("div",(0,l.pi)({ref:i,className:F.root},t||C?{"aria-describedby":a,role:"region"}:{}),c.createElement("div",{className:F.content},c.createElement("div",{className:F.iconContainer,"aria-hidden":!0},A?c.createElement(f.J,(0,l.pi)({},A,{className:(0,g.i)(F.icon,A.className)})):c.createElement(f.J,{iconName:x[M],className:F.icon})),c.createElement("div",{className:F.text,id:a,role:I||B(M),"aria-live":k(M)},c.createElement("span",(0,l.pi)({className:F.innerText},z),void 0===_||_?c.createElement(m.U,null,c.createElement("span",null,d)):c.createElement("span",null,d))),!T&&!H&&q&&c.createElement("div",{className:F.expandSingleLine},c.createElement(v.h,(0,l.pi)({disabled:!1,className:F.expand,onClick:r,iconProps:{iconName:n?"DoubleChevronUp":"DoubleChevronDown"},ariaLabel:P,"aria-expanded":n},D))),!T&&H,!T&&J&&c.createElement("div",{className:F.dismissSingleLine},J),T&&J),T&&H)});P.displayName="MessageBar";var L=s(6251),S={root:"ms-MessageBar",error:"ms-MessageBar--error",blocked:"ms-MessageBar--blocked",severeWarning:"ms-MessageBar--severeWarning",success:"ms-MessageBar--success",warning:"ms-MessageBar--warning",multiline:"ms-MessageBar-multiline",singleline:"ms-MessageBar-singleline",dismissalSingleLine:"ms-MessageBar-dismissalSingleLine",expandingSingleLine:"ms-MessageBar-expandingSingleLine",content:"ms-MessageBar-content",iconContainer:"ms-MessageBar-icon",text:"ms-MessageBar-text",innerText:"ms-MessageBar-innerText",dismissSingleLine:"ms-MessageBar-dismissSingleLine",expandSingleLine:"ms-MessageBar-expandSingleLine",dismissal:"ms-MessageBar-dismissal",expand:"ms-MessageBar-expand",actions:"ms-MessageBar-actions",actionsSingleline:"ms-MessageBar-actionsSingleLine"},y=((r={})[u.f.error]="errorBackground",r[u.f.blocked]="errorBackground",r[u.f.success]="successBackground",r[u.f.warning]="warningBackground",r[u.f.severeWarning]="severeWarningBackground",r[u.f.info]="infoBackground",r),E=((a={})[u.f.error]="rgba(255, 0, 0, 0.3)",a[u.f.blocked]="rgba(255, 0, 0, 0.3)",a[u.f.success]="rgba(48, 241, 73, 0.3)",a[u.f.warning]="rgba(255, 254, 57, 0.3)",a[u.f.severeWarning]="rgba(255, 0, 0, 0.3)",a[u.f.info]="Window",a),M=((t={})[u.f.error]="errorIcon",t[u.f.blocked]="errorIcon",t[u.f.success]="successIcon",t[u.f.warning]="warningIcon",t[u.f.severeWarning]="severeWarningIcon",t[u.f.info]="infoIcon",t),N=(0,o.z)(P,function(e){var i,s,n,r,a,t=e.theme,o=e.className,c=e.onDismiss,d=e.truncated,p=e.isMultiline,g=e.expandSingleLine,m=e.messageBarType,v=void 0===m?u.f.info:m,f=t.semanticColors,h=t.fonts,b=(0,L.sK)(0,L.mV),x=(0,L.Cn)(S,t),w={fontSize:L.ld.xSmall,height:10,lineHeight:"10px",color:f.messageText,selectors:((i={})[L.qJ]=(0,l.pi)((0,l.pi)({},(0,L.xM)()),{color:"WindowText"}),i)},k=[(0,L.GL)(t,{inset:1,highContrastStyle:{outlineOffset:"-6px",outline:"1px solid Highlight"},borderColor:"transparent"}),{flexShrink:0,width:32,height:32,padding:"8px 12px",selectors:{"& .ms-Button-icon":w,":hover":{backgroundColor:"transparent"},":active":{backgroundColor:"transparent"}}}];return{root:[x.root,h.medium,v===u.f.error&&x.error,v===u.f.blocked&&x.blocked,v===u.f.severeWarning&&x.severeWarning,v===u.f.success&&x.success,v===u.f.warning&&x.warning,p?x.multiline:x.singleline,!p&&c&&x.dismissalSingleLine,!p&&d&&x.expandingSingleLine,{background:f[y[v]],color:f.messageText,minHeight:32,width:"100%",display:"flex",wordBreak:"break-word",selectors:((s={".ms-Link":{color:f.messageLink,selectors:{":hover":{color:f.messageLinkHovered}}}})[L.qJ]=(0,l.pi)((0,l.pi)({},(0,L.xM)()),{background:E[v],border:"1px solid WindowText",color:"WindowText"}),s)},p&&{flexDirection:"column"},o],content:[x.content,{display:"flex",width:"100%",lineHeight:"normal"}],iconContainer:[x.iconContainer,{fontSize:L.ld.medium,minWidth:16,minHeight:16,display:"flex",flexShrink:0,margin:"8px 0 8px 12px"}],icon:{color:f[M[v]],selectors:((n={})[L.qJ]=(0,l.pi)((0,l.pi)({},(0,L.xM)()),{color:"WindowText"}),n)},text:[x.text,(0,l.pi)((0,l.pi)({minWidth:0,display:"flex",flexGrow:1,margin:8},h.small),{selectors:((r={})[L.qJ]=(0,l.pi)({},(0,L.xM)()),r)}),!c&&{marginRight:12}],innerText:[x.innerText,{lineHeight:16,selectors:{"& span a:last-child":{paddingLeft:4}}},d&&{overflow:"visible",whiteSpace:"pre-wrap"},!p&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},!p&&!d&&{selectors:((a={})[b]={overflow:"visible",whiteSpace:"pre-wrap"},a)},g&&{overflow:"visible",whiteSpace:"pre-wrap"}],dismissSingleLine:x.dismissSingleLine,expandSingleLine:x.expandSingleLine,dismissal:[x.dismissal,k],expand:[x.expand,k],actions:[p?x.actions:x.actionsSingleline,{display:"flex",flexGrow:0,flexShrink:0,flexBasis:"auto",flexDirection:"row-reverse",alignItems:"center",margin:"0 12px 0 8px",forcedColorAdjust:"auto",MsHighContrastAdjust:"auto",selectors:{"& button:nth-child(n+2)":{marginLeft:8}}},p&&{marginBottom:8},c&&!p&&{marginRight:0}]}},void 0,{scope:"MessageBar"})},5625:function(e,i,s){"use strict";var n,r;s.d(i,{f:function(){return n}}),(r=n||(n={}))[r.info=0]="info",r[r.error=1]="error",r[r.blocked=2]="blocked",r[r.severeWarning=3]="severeWarning",r[r.success=4]="success",r[r.warning=5]="warning"}},function(e){e.O(0,[197,774,888,179],function(){return e(e.s=487)}),_N_E=e.O()}]);
//# sourceMappingURL=tcpip-658430470cea3dca.js.map