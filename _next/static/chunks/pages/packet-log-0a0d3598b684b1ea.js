(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{4830:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/packet-log",function(){return t(5568)}])},5568:function(e,n,t){"use strict";t.a(e,(async function(e,r){try{t.r(n);var o,i=t(5202),a=t(8306),l=t(2793),c=t(6264),u=t(5891),d=t(5780),s=t(496),f=t(7441),h=t(3758),m=t(6393),y=t(5693),g=t(9889),w=t(2555),v=t(1984),p=e([g,v]);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function O(e){if(Array.isArray(e))return e}function A(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function N(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){E(e,n,t[n])}))}return e}function _(e,n){if(null==e)return{};var t,r,o=H(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function H(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}function T(e,n){return O(e)||P(e,n)||W(e,n)||I()}function W(e,n){if(e){if("string"===typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(e,n):void 0}}[g,v]=p.then?(await p)():p;var b=(E(o={},d.AdbCommand.Auth,"AUTH"),E(o,d.AdbCommand.Close,"CLSE"),E(o,d.AdbCommand.Connect,"CNXN"),E(o,d.AdbCommand.OK,"OKAY"),E(o,d.AdbCommand.Open,"OPEN"),E(o,d.AdbCommand.Write,"WRTE"),o),x=(0,m.forwardRef)((function(e,n){var t,r=e.rowCount,o=e.rowHeight,l=e.columnCount,c=e.columnWidth,d=e.children,s=_(e,["rowCount","rowHeight","columnCount","columnWidth","children"]),f=(0,a.ZC)({container:{display:"flex",flexDirection:"column"},scroller:{flex:1,height:0,overflow:"auto"},stickyRows:{flexShrink:0}}),h=(0,m.useRef)(null),w=(0,u.r)(n,h),v=(0,m.useState)({width:0,height:0}),p=v[0],b=v[1];(0,m.useEffect)((function(){var e;null===(e=h.current)||void 0===e||e.resetAfterRowIndex(r-2)}),[r]);var x=null!==(t=s.stickyRowCount)&&void 0!==t?t:0,C=[];if(h.current)for(var S=0+x,j=T(h.current._getHorizontalRangeToRender(),2),k=j[0],O=j[1],A=0;A<S;A+=1)for(var N=k;N<=O;N+=1)C.push((0,m.createElement)(d,{rowIndex:A,columnIndex:N,data:void 0,key:"".concat(A,"-").concat(N),style:h.current._getItemStyle(A,N)}));return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:f.stickyRows,children:C}),(0,i.jsx)(g.do,{className:f.scroller,onResize:b,children:(0,i.jsx)(y.cd,R({},s,{ref:w,width:p.width,height:p.height,rowCount:r,rowHeight:o,columnCount:l,columnWidth:c,children:d}))})]})})),C=function(e){var n=e.data,t=e.columns,r=e.rowHeight,o=(0,a.ZC)({container:{width:"100%",height:"100%"},grid:{position:"absolute !important",top:0,left:0}}),l=(0,m.useState)({width:0,height:0}),c=l[0],u=l[1],d=(0,m.useMemo)((function(){var e=c.width,n=0,r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u,d=a.value;if(d.width)e-=d.width;else n+=null!==(u=d.flexGrow)&&void 0!==u?u:1}}catch(f){o=!0,i=f}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}var s=e/n;return t.map((function(e){return e.width?e.width:s*(null!==(n=e.flexGrow)&&void 0!==n?n:1);var n}))}),[c.width,t]),s=(0,m.useCallback)((function(e){return d[e]}),[d]),f=(0,m.useRef)(null);(0,m.useEffect)((function(){var e;null===(e=f.current)||void 0===e||e.resetAfterColumnIndex(t.findIndex((function(e){return!e.width})),!0)}),[t,d]);var h=(0,m.useMemo)((function(){return(0,m.memo)((function(e){var r=e.rowIndex,o=e.columnIndex,a=e.style;return 0===r?(0,i.jsx)("div",{style:a,children:t[o].title},t[o].key):t[o].render(n[r-1],a)}))}),[t,n]);return(0,i.jsx)(g.do,{className:o.container,onResize:u,children:(0,i.jsx)(x,{ref:f,className:o.grid,rowCount:n.length+1,rowHeight:function(){return r},estimatedRowHeight:r,columnCount:t.length,columnWidth:s,stickyRowCount:1,children:h})})},S=[[33,126],[161,172],[174,255]];function D(e){return S.some((function(n){var t=T(n,2),r=t[0],o=t[1];return e>=r&&e<=o}))}function L(e){return D(e)?String.fromCharCode(e):"."}function M(e){var n="",t=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){n+=L(i.value)}}catch(l){r=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}return n}var j=new(function(){function e(){A(this,e),(0,s.ky)(this)}var n,t,r;return n=e,(t=[{key:"commandBarItems",get:function(){return[{key:"clear",disabled:!w.n.device,iconProps:{iconName:v.PJ.Delete},text:"Clear",onClick:function(){return w.n.clearLog()}}]}}])&&N(n.prototype,t),r&&N(n,r),e}());n.default=(0,f.Pi)((function(){var e=(0,a.ZC)({header:{position:"sticky",textAlign:"center",fontWeight:"bold",lineHeight:"32px"},code:{fontFamily:"monospace",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",lineHeight:"32px"}}),n=(0,m.useMemo)((function(){return[{key:"direction",title:"Direction",width:100,render:function(n,t){return(0,i.jsx)("div",{className:e.code,style:t,children:n.direction})}},{key:"command",title:"Command",width:100,render:function(n,t){var r;n.commandString||(n.commandString=null!==(r=b[n.command])&&void 0!==r?r:(0,d.decodeUtf8)(new Uint32Array([n.command])));return(0,i.jsx)("div",{className:e.code,style:t,children:n.commandString})}},{key:"arg0",title:"Arg0",width:100,render:function(n,t){return n.arg0String||(n.arg0String=n.arg0.toString(16).padStart(8,"0")),(0,i.jsx)("div",{className:e.code,style:t,children:n.arg0String})}},{key:"arg1",title:"Arg1",width:100,render:function(n,t){return n.arg1String||(n.arg1String=n.arg1.toString(16).padStart(8,"0")),(0,i.jsx)("div",{className:e.code,style:t,children:n.arg1String})}},{key:"payload",title:"Payload",render:function(n,t){return n.payloadString||(n.payloadString=M(n.payload)),(0,i.jsx)("div",{className:e.code,style:t,children:n.payloadString})}}]}),[e.code]);return(0,i.jsxs)(l.K,R({},v.LE,{tokens:{},children:[(0,i.jsx)(h.default,{children:(0,i.jsx)("title",{children:"Packet Log - Android Web Toolbox"})}),(0,i.jsx)(g.X3,{items:j.commandBarItems}),(0,i.jsx)(c.v,{grow:!0,shrink:!0,children:(0,i.jsx)(C,{data:(0,s.ZN)(w.n.logs),columns:n,rowHeight:32})})]}))})),r()}catch(k){r(k)}}))}},function(e){e.O(0,[693,774,888,179],(function(){return n=4830,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=packet-log-0a0d3598b684b1ea.js.map