(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{7118:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chrome-devtools",function(){return s(2633)}])},2633:function(e,t,s){"use strict";s.r(t);var n=s(4471),o=s(9838),a=s(8243),r=s(4848),c=s(7104),i=s(6166),l=s(2153),d=s(1504),p=s(8517),h=s.n(p),u=s(9530),w=s.n(u),m=s(3370),v=s(2575),_=s(6921);class b extends i.Duplex{async _read(e){let t=await this._reader.read();t.done?this.emit("end"):this.push(t.value)}async _write(e,t,s){let n=new c.sS(e);try{await this._writer.write(n),s()}catch(e){s(e)}}async _final(e){await this._socket.close(),e()}async _destroy(e,t){await this._socket.close(),t(e)}constructor(e){super(),this._socket=e,this._reader=this._socket.readable.getReader(),this._writer=this._socket.writable.getWriter(),this._socket.end.then(()=>this.emit("end"))}}let f=new i.Agent({factory(e,t){let s=new i.Pool(e,{...t,factory(e,t){let s=new i.Client(e,t);return s[i.Symbols.kHostHeader]="Host: localhost\r\n",s}});return s},async connect(e,t){let s=await v.d.device.createSocket("localabstract:"+e.hostname);t(null,new b(s))}});async function g(e){let t=await (0,i.request)("http://".concat(e,"/json")),s=await t.body.json();return s}async function k(e){let t=await (0,i.request)("http://".concat(e,"/json/version")),s=await t.body.json();return s}async function y(e,t){await (0,i.request)("http://".concat(e,"/json/activate/").concat(t.id))}async function j(e,t){await (0,i.request)("http://".concat(e,"/json/close/").concat(t.id))}(0,i.setGlobalDispatcher)(f);let{publicRuntimeConfig:{basePath:x}}=h()(),C=(0,l.ky)({browsers:[],intervalId:null,visible:!1},{browsers:l.LO.deep});async function N(){let e=v.d.device,t=await e.subprocess.spawnAndWaitLegacy("cat /proc/net/unix | grep -E \"@chrome_devtools_remote|@chrome_devtools_remote_[0-9]+|@com.opera.browser.devtools\" | awk '{print substr($8, 2)}'"),s=[];for(let e of t.split("\n").filter(Boolean))if(!s.some(t=>t.socket==e))try{let t=await k(e),n=await g(e);console.log(e,t,n),s.push({socket:e,version:t,pages:n})}catch(t){console.error(e,t)}(0,l.z)(()=>{C.browsers=s})}(0,l.U5)(()=>[v.d.device,C.visible],e=>{let[t,s]=e;if(!t||!s){C.browsers=[],C.intervalId&&(clearInterval(C.intervalId),C.intervalId=null);return}C.intervalId=setInterval(()=>{N()},5e3),N()});let E=(0,r.Z)({header:{marginTop:"4px",marginBottom:"4px"},url:{marginLeft:"8px",color:"#999"},link:{marginRight:"12px"}}),L=(0,d.Pi)(function(){let e=E();(0,m.useEffect)(()=>((0,l.z)(()=>{C.visible=!0}),(0,l.aD)(()=>{C.visible=!1})),[]);let t=(0,m.useCallback)((e,t)=>{let{script:s,params:n}=function(e){let t=e.devtoolsFrontendUrl,[s,n]=t.split("?");return{script:s.startsWith("https://aka.ms/docs-landing-page/serve_rev/")?s.replace("https://aka.ms/docs-landing-page/serve_rev/","https://devtools.azureedge.net/serve_file/").replace("inspector.html","entrypoints/inspector/inspector.js"):s.startsWith("https://devtools.opera.com/")?"https://devtools.azureedge.net/serve_file/@de5387e0c9d4198cd2d786b4eb445a1fb74a3d18/entrypoints/inspector/inspector.js":s.replace("inspector.html","front_end/entrypoints/inspector/inspector.js"),params:n}}(t),o=window.open("".concat(x,"/chrome-devtools-frame?script=").concat(s,"&").concat(n),"_blank","popup");o.addEventListener("message",t=>{if("object"!=typeof t.data||"AdbWebSocket"!==t.data.type)return;let s=new URL(t.data.url);s.host=e;let n=t.ports[0],a=new i.WebSocket(s);a.binaryType="arraybuffer",a.onopen=()=>{n.postMessage({type:"open"})},a.onclose=()=>{n.postMessage({type:"close"}),n.close()},a.onmessage=e=>{let{data:t}=e;n.postMessage({type:"message",message:t})},n.onmessage=e=>{switch(e.data.type){case"message":a.send(e.data.message);break;case"close":a.close()}},o.addEventListener("close",()=>{a.close()}),window.addEventListener("beforeunload",()=>{n.postMessage({type:"close"}),n.close()})})},[]),s=(0,m.useCallback)((e,t)=>{y(e,t)},[]),r=(0,m.useCallback)((e,t)=>{j(e,t),N()},[]);return(0,n.jsxs)(o.K,{..._.LE,children:[(0,n.jsx)(w(),{children:(0,n.jsx)("title",{children:"Chrome Remote Debugging - Tango"})}),C.browsers.map(o=>(0,n.jsxs)(n.Fragment,{children:[o.version&&(0,n.jsx)("h3",{className:e.header,children:function(e){let[t,s]=e.Browser.split("/");return"".concat(t," (").concat(s,")")}(o.version)}),o.pages.map(c=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[c.title?(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:c.title}}):(0,n.jsx)("i",{children:"No Title"}),(0,n.jsx)("span",{className:e.url,children:c.url||(0,n.jsx)("i",{children:"No URL"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(a.r,{className:e.link,onClick:()=>t(o.socket,c),children:"Inspect"}),(0,n.jsx)(a.r,{className:e.link,onClick:()=>s(o.socket,c),children:"Focus"}),(0,n.jsx)(a.r,{className:e.link,onClick:()=>r(o.socket,c),children:"Close"})]})]},c.id))]}))]})});t.default=L}},function(e){e.O(0,[252,774,888,179],function(){return e(e.s=7118)}),_N_E=e.O()}]);
//# sourceMappingURL=chrome-devtools-2f1fbf4d59b596af.js.map