(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{9288:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/install",function(){return i(1025)}])},1025:function(e,s,i){"use strict";i.r(s);var t,l,n=i(4471),o=i(486),a=i(7414),r=i(8421),d=i(1265),p=i(6129),g=i(6261),c=i(7532),h=i(9281),u=i(9614),w=i.n(u),z=i(1001),f=i(97);(t=l||(l={}))[t.Uploading=0]="Uploading",t[t.Installing=1]="Installing",t[t.Completed=2]="Completed";let k=new class{constructor(){this.installing=!1,this.progress=void 0,this.log="",this.options={bypassLowTargetSdkBlock:!1},this.install=async()=>{let e=await (0,f.oT)({accept:".apk"});if(!e)return;(0,c.z)(()=>{this.installing=!0,this.progress={filename:e.name,stage:l.Uploading,uploadedSize:0,totalSize:e.size,value:0},this.log=""});let s=new p.LE(z.d.device),i=Date.now(),t=await s.installStream(e.size,(0,f.Xd)(e).pipeThrough(new f.hK((0,c.aD)(s=>{s!==e.size?this.progress={filename:e.name,stage:l.Uploading,uploadedSize:s,totalSize:e.size,value:s/e.size*.8}:this.progress={filename:e.name,stage:l.Installing,uploadedSize:s,totalSize:e.size,value:.8}})))),n=Date.now()-i;await t.pipeTo(new g.Vj({write:(0,c.aD)(e=>{this.log+=e})}));let o=(e.size/(n/1e3)/1024/1024).toFixed(2);this.log+="Install finished in ".concat(n,"ms at ").concat(o,"MB/s"),(0,c.z)(()=>{this.progress={filename:e.name,stage:l.Completed,uploadedSize:e.size,totalSize:e.size,value:1},this.installing=!1})},(0,c.ky)(this,{progress:c.LO.ref,install:!1,options:c.LO.deep})}},m=()=>(0,n.jsxs)(o.K,{...f.LE,children:[(0,n.jsx)(w(),{children:(0,n.jsx)("title",{children:"Install APK - Android Web Toolbox"})}),(0,n.jsx)(o.K,{horizontal:!0,children:(0,n.jsx)(a.X,{label:"--bypass-low-target-sdk-block (Android 14)",checked:k.options.bypassLowTargetSdkBlock,onChange:(e,s)=>{void 0!==s&&(0,c.z)(()=>{k.options.bypassLowTargetSdkBlock=s})}})}),(0,n.jsx)(o.K,{horizontal:!0,children:(0,n.jsx)(r.K,{disabled:!z.d.device||k.installing,text:"Browse APK",onClick:k.install})}),k.progress&&(0,n.jsx)(d.Y,{styles:{root:{width:300}},label:k.progress.filename,percentComplete:k.progress.value,description:l[k.progress.stage]}),k.log&&(0,n.jsx)("pre",{children:k.log})]});s.default=(0,h.Pi)(m)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9288)}),_N_E=e.O()}]);
//# sourceMappingURL=install-995d9933f9519222.js.map