(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{2371:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/scrcpy",function(){return n(5479)}])},5479:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ae}});var r,i,o=n(8219),s=n.n(o),a=n(5202),c=n(5610),l=n(6393),d=n(5116),u=n(8067),h=function(e){var t=e.id,n=e.className;return l.useEffect((function(){(0,u.EQ)(t)}),[]),p((function(){(0,u.EQ)(t)})),l.createElement("div",(0,c.pi)({},e,{className:(0,d.i)("ms-LayerHost",n)}))},p=function(e){var t=l.useRef(e);t.current=e,l.useEffect((function(){return function(){t.current&&t.current()}}),[])},v=n(8775),f=n(7641),m=n(7612),g=n(514),w=n(7788),y=n(1358),b=n(5951),S=n(7056),x=n(4749),P=n(8640),C=n(9691),D=n(9312),k=n(458),_=n(2002),E=n(541),j=n(9246);!function(e){e[e.InjectKeycode=0]="InjectKeycode",e[e.InjectText=1]="InjectText",e[e.InjectTouch=2]="InjectTouch",e[e.InjectScroll=3]="InjectScroll",e[e.BackOrScreenOn=4]="BackOrScreenOn",e[e.ExpandNotificationPanel=5]="ExpandNotificationPanel",e[e.CollapseNotificationPanel=6]="CollapseNotificationPanel",e[e.GetClipboard=7]="GetClipboard",e[e.SetClipboard=8]="SetClipboard",e[e.SetScreenPowerMode=9]="SetScreenPowerMode",e[e.RotateDevice=10]="RotateDevice"}(r||(r={})),function(e){e[e.Down=0]="Down",e[e.Up=1]="Up",e[e.Move=2]="Move",e[e.Cancel=3]="Cancel",e[e.Outside=4]="Outside",e[e.PointerDown=5]="PointerDown",e[e.PointerUp=6]="PointerUp",e[e.HoverMove=7]="HoverMove",e[e.Scroll=8]="Scroll",e[e.HoverEnter=9]="HoverEnter",e[e.HoverExit=10]="HoverExit",e[e.ButtonPress=11]="ButtonPress",e[e.ButtonRelease=12]="ButtonRelease"}(i||(i={}));const z=(new j.ZP).uint8("type",r.InjectTouch).uint8("action",(0,j.W$)()).uint64("pointerId").uint32("pointerX").uint32("pointerY").uint16("screenWidth").uint16("screenHeight").uint16("pressure").uint32("buttons"),L=(new j.ZP).uint8("type",r.InjectText).uint32("length").string("text",{lengthField:"length"});var O,I;!function(e){e[e.Down=0]="Down",e[e.Up=1]="Up"}(O||(O={})),function(e){e[e.Home=3]="Home",e[e.Back=4]="Back",e[e.A=29]="A",e[e.B=30]="B",e[e.C=31]="C",e[e.D=32]="D",e[e.E=33]="E",e[e.F=34]="F",e[e.G=35]="G",e[e.H=36]="H",e[e.I=37]="I",e[e.J=38]="J",e[e.K=39]="K",e[e.L=40]="L",e[e.M=41]="M",e[e.N=42]="N",e[e.O=43]="O",e[e.P=44]="P",e[e.Q=45]="Q",e[e.R=46]="R",e[e.S=47]="S",e[e.T=48]="T",e[e.U=49]="U",e[e.V=50]="V",e[e.W=51]="W",e[e.X=52]="X",e[e.Y=53]="Y",e[e.Z=54]="Z",e[e.Space=62]="Space",e[e.Delete=67]="Delete",e[e.AppSwitch=187]="AppSwitch"}(I||(I={}));const T=(new j.ZP).uint8("type",r.InjectKeycode).uint8("action",(0,j.W$)()).uint32("keyCode").uint32("repeat").uint32("metaState");function U(e){return new Promise((t=>{globalThis.setTimeout(t,e)}))}new TextEncoder;const R=new TextDecoder;class M{constructor(e,t){this.device=e,this.options=t}initialize(){}dispose(){}}class H extends M{connect(){return(0,c.mG)(this,void 0,void 0,(function*(){return new _.wZ(yield this.device.createSocket("localabstract:scrcpy"))}))}connectAndRetry(){return(0,c.mG)(this,void 0,void 0,(function*(){for(let t=0;t<100;t++)try{return yield this.connect()}catch(e){yield U(100)}throw new Error("Can't connect to server after 100 retries")}))}connectVideoStream(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=yield this.connectAndRetry();return this.options.sendDummyByte&&(yield e.read(1)),e}))}getStreams(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=yield this.connectVideoStream();let t;return this.options.control&&(t=yield this.connectAndRetry()),this.options.sendDeviceMeta&&(yield e.read(68)),[e,t]}))}}class B extends M{initialize(){return(0,c.mG)(this,void 0,void 0,(function*(){try{yield this.device.reverse.remove("localabstract:scrcpy")}catch(e){}this.streams=new _.NH,this.address=yield this.device.reverse.add("localabstract:scrcpy",27183,{onSocket:(e,t)=>{this.streams.enqueue(t)}})}))}accept(){return(0,c.mG)(this,void 0,void 0,(function*(){return new _.wZ(yield this.streams.dequeue())}))}getStreams(){return(0,c.mG)(this,void 0,void 0,(function*(){const e=yield this.accept();let t;return this.options.control&&(t=yield this.accept()),this.options.sendDeviceMeta&&(yield e.read(68)),[e,t]}))}dispose(){this.device.reverse.remove(this.address)}}const V="/data/local/tmp/scrcpy-server.jar";var N,A;function G(e,t){return function(e){return"object"===typeof e&&null!==e&&"function"===typeof e.toOptionValue}(e)&&(e=e.toOptionValue()),void 0===e?t:`${e}`}!function(e){e.Verbose="verbose",e.Debug="debug",e.Info="info",e.Warn="warn",e.Error="error"}(N||(N={})),function(e){e[e.Initial=-2]="Initial",e[e.Unlocked=-1]="Unlocked",e[e.Portrait=0]="Portrait",e[e.Landscape=1]="Landscape",e[e.PortraitFlipped=2]="PortraitFlipped",e[e.LandscapeFlipped=3]="LandscapeFlipped"}(A||(A={}));class F{constructor(e){this.value=e}toOptionValue(){const e=Object.entries(this.value).filter((([e,t])=>void 0!==t));if(0!==e.length)return e.map((([e,t])=>`${e}=${t}`)).join(",")}}const W=(new j.ZP).uint8("type",(0,j.W$)()),K=(new j.ZP).uint8("type",r.InjectScroll).uint32("pointerX").uint32("pointerY").uint16("screenWidth").uint16("screenHeight").int32("scrollX").int32("scrollY");class Y{constructor(e){new.target===Y&&e.logLevel===N.Verbose&&(e.logLevel=N.Debug),new.target===Y&&e.lockVideoOrientation===A.Initial&&(e.lockVideoOrientation=A.Unlocked),this.value=e}getArgumnetOrder(){return["logLevel","maxSize","bitRate","maxFps","lockVideoOrientation","tunnelForward","crop","sendFrameMeta","control","displayId","showTouches","stayAwake","codecOptions","encoderName"]}getDefaultValue(){return{logLevel:N.Debug,maxSize:0,bitRate:8e6,maxFps:0,lockVideoOrientation:A.Unlocked,tunnelForward:!1,crop:"-",sendFrameMeta:!0,control:!0,displayId:0,showTouches:!1,stayAwake:!1,codecOptions:new F({}),encoderName:"-"}}formatServerArguments(){const e=this.getDefaultValue();return this.getArgumnetOrder().map((t=>G(this.value[t]||e[t],"-")))}createConnection(e){const t={control:!0,sendDummyByte:!0,sendDeviceMeta:!0};return this.value.tunnelForward?new H(e,t):new B(e,t)}getOutputEncoderNameRegex(){return/\s+scrcpy --encoder-name '(.*?)'/}serializeBackOrScreenOnControlMessage(e,t){if(e===O.Down)return W.serialize({type:r.BackOrScreenOn})}serializeInjectScrollControlMessage(e){return K.serialize(e)}}const $=(new j.ZP).uint8("type",(0,j.W$)()).uint8("action",(0,j.W$)());class X extends Y{constructor(e){super(e)}getArgumnetOrder(){return super.getArgumnetOrder().concat(["powerOffOnClose"])}getDefaultValue(){return Object.assign(Object.assign({},super.getDefaultValue()),{powerOffOnClose:!1})}getOutputEncoderNameRegex(){return/\s+scrcpy --encoder '(.*?)'/}serializeBackOrScreenOnControlMessage(e,t){return $.serialize({type:r.BackOrScreenOn,action:e})}}class Z extends X{constructor(e){super(e)}getDefaultValue(){return Object.assign(Object.assign({},super.getDefaultValue()),{clipboardAutosync:!0})}formatServerArguments(){return Object.entries(this.value).map((([e,t])=>[e,G(t,void 0)])).filter((e=>void 0!==e[1])).map((([e,t])=>{return`${n=e,n.replace(/([A-Z])/g,"_$1").toLowerCase()}=${t}`;var n}))}}const J=(new j.ZP).fields(K).int32("buttons");class q extends Z{constructor(e){if(e.rawVideoStream)throw e.sendDeviceMeta=!1,e.sendFrameMeta=!1,e.sendDummyByte=!1,new Error("`rawVideoStream:true` is not supported");if(!e.sendFrameMeta)throw new Error("`sendFrameMeta:false` is not supported");super(e)}getDefaultValue(){return Object.assign(Object.assign({},super.getDefaultValue()),{downsizeOnError:!0,sendDeviceMeta:!0,sendDummyByte:!0,rawVideoStream:!1})}createConnection(e){var t,n,r;const i=this.getDefaultValue(),o={control:null!==(t=this.value.control)&&void 0!==t?t:i.control,sendDummyByte:null!==(n=this.value.sendDummyByte)&&void 0!==n?n:i.sendDummyByte,sendDeviceMeta:null!==(r=this.value.sendDeviceMeta)&&void 0!==r?r:i.sendDeviceMeta};return this.value.tunnelForward?new H(e,o):new B(e,o)}serializeInjectScrollControlMessage(e){return J.serialize(e)}}function Q(e,t,n={}){return(0,c.mG)(this,void 0,void 0,(function*(){const{path:r=V,onProgress:i}=n;return(yield e.sync()).write(r,t,void 0,void 0,i)}))}class ee{constructor(e){this.bytePosition=0,this.bitPosition=0,this.buffer=e}read(e){let t=0;for(let n=0;n<e;n+=1)t=t<<1|this.next();return t}next(){const e=this.buffer[this.bytePosition]>>7-this.bitPosition&1;return this.bitPosition+=1,8===this.bitPosition&&(this.bytePosition+=1,this.bitPosition=0),e}decodeExponentialGolombNumber(){let e=0;for(;0===this.next();)e+=1;return 0===e?0:(1<<e|this.read(e))-1}}function te(e){for(const t of function*(e){let t=-1,n=0,r=0,i=!1;for(const o of e){if(e[n]=o,n+=1,i){if(o>3)throw new Error("Invalid data");i=!1;continue}if(0==o){r+=1;continue}const s=r;if(r=0,-1===t){if(s>=2&&1===o){n=0,t=0;continue}throw new Error("Invalid data")}if(!(s<2))if(1!==o){if(s>2)throw new Error("Invalid data");switch(o){case 2:throw new Error("Invalid data");case 3:n-=1,i=!0}}else n-=s+1,yield e.subarray(t,n),t=n}if(i||0!==r)throw new Error("Invalid data");yield e.subarray(t,n)}(new Uint8Array(e))){const e=new ee(t);if(0!==e.next())throw new Error("Invalid data");const n=e.read(2);if(7!==e.read(5))continue;if(0===n)throw new Error("Invalid data");const r=e.read(8),i=e.read(8),o=new ee(new Uint8Array([i])),s=!!o.next(),a=!!o.next(),c=!!o.next(),l=!!o.next(),d=!!o.next(),u=!!o.next();if(0!==o.read(2))throw new Error("Invalid data");const h=e.read(8),p=e.decodeExponentialGolombNumber();if(100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||139===r||134===r){const t=e.decodeExponentialGolombNumber();3===t&&e.next(),e.decodeExponentialGolombNumber(),e.decodeExponentialGolombNumber(),e.next();if(!!e.next()){const n=[];for(let r=0;r<(3!==t?8:12);r++)n[r]=!!e.next(),n[r]}}e.decodeExponentialGolombNumber();const v=e.decodeExponentialGolombNumber();if(0===v)e.decodeExponentialGolombNumber();else if(1===v){e.next(),e.decodeExponentialGolombNumber(),e.decodeExponentialGolombNumber();const t=e.decodeExponentialGolombNumber(),n=[];for(let r=0;r<t;r++)n[r]=e.decodeExponentialGolombNumber()}e.decodeExponentialGolombNumber(),e.next();const f=e.decodeExponentialGolombNumber(),m=e.decodeExponentialGolombNumber(),g=e.next();g||e.next(),e.next();const w=!!e.next();let y,b,S,x;w?(y=e.decodeExponentialGolombNumber(),b=e.decodeExponentialGolombNumber(),S=e.decodeExponentialGolombNumber(),x=e.decodeExponentialGolombNumber()):(y=0,b=0,S=0,x=0);e.next();return{profile_idc:r,constraint_set:i,constraint_set0_flag:s,constraint_set1_flag:a,constraint_set2_flag:c,constraint_set3_flag:l,constraint_set4_flag:d,constraint_set5_flag:u,level_idc:h,seq_parameter_set_id:p,pic_width_in_mbs_minus1:f,pic_height_in_map_units_minus1:m,frame_mbs_only_flag:g,frame_cropping_flag:w,frame_crop_left_offset:y,frame_crop_right_offset:b,frame_crop_top_offset:S,frame_crop_bottom_offset:x}}throw new Error("Invalid data")}const ne=(new j.ZP).int64("pts").uint32("size").arrayBuffer("data",{lengthField:"size"}),re=BigInt(-1),ie=(new j.ZP).uint32("length").string("content",{lengthField:"length"});class oe{constructor(e){this.outputEvent=new k.vp,this.closeEvent=new k.vp,this._running=!1,this.sizeChangedEvent=new k.vp,this.videoDataEvent=new _.$,this.clipboardChangeEvent=new k.vp,this.sendingTouchMessage=!1,this.device=e}static pushServer(e,t,n){Q(e,t,n)}static getEncoders(e,t,n,r){return(0,c.mG)(this,void 0,void 0,(function*(){const i=new E.h,o=r.getOutputEncoderNameRegex(),s=[],a=new oe(e);return a.onOutput((e=>{const t=e.match(o);t&&s.push(t[1])})),a.onClose((()=>{i.resolve(s)})),r.value.encoderName="_",r.value.control=!1,yield a.start(t,n,r),i.promise}))}get backend(){return this.device.backend}get onOutput(){return this.outputEvent.event}get onClose(){return this.closeEvent.event}get running(){return this._running}get screenWidth(){return this._screenWidth}get screenHeight(){return this._screenHeight}get onSizeChanged(){return this.sizeChangedEvent.event}get onVideoData(){return this.videoDataEvent.event}get onClipboardChange(){return this.clipboardChangeEvent.event}start(e,t,n){return(0,c.mG)(this,void 0,void 0,(function*(){this.options=n;const r=n.createConnection(this.device);let i;try{yield r.initialize(),i=yield this.device.childProcess.spawn([`CLASSPATH=${e}`,"app_process","/","com.genymobile.scrcpy.Server",t,...n.formatServerArguments()],{shells:[_._n]}),i.onStdout(this.handleProcessOutput,this);const o=new E.h,s=i.onExit((()=>{o.reject(new Error("scrcpy server exited prematurely"))})),[a,c]=yield Promise.race([o.promise,r.getStreams()]);s(),this.process=i,this.process.onExit(this.handleProcessClosed,this),this.videoStream=a,this.controlStream=c,this._running=!0,this.receiveVideo(),this.receiveControl()}catch(o){throw yield null===i||void 0===i?void 0:i.kill(),o}finally{r.dispose()}}))}handleProcessOutput(e){const t=(n=e,R.decode(n));var n;for(const r of function*(e){let t=0;for(;;){const n=e.indexOf("\n",t);if(-1===n)return;const r=e.substring(t,n);yield r,t=n+1}}(t))""!==r&&this.outputEvent.fire(r)}handleProcessClosed(){this._running=!1,this.closeEvent.fire()}receiveVideo(){return(0,c.mG)(this,void 0,void 0,(function*(){if(!this.videoStream)throw new Error("receiveVideo started before initialization");try{let e;for(;this._running;){const{pts:t,data:n}=yield ne.deserialize(this.videoStream);if(!n||0===n.byteLength)continue;if(t===re){const t=te(n.slice(0)),{pic_width_in_mbs_minus1:r,pic_height_in_map_units_minus1:i,frame_mbs_only_flag:o,frame_crop_left_offset:s,frame_crop_right_offset:a,frame_crop_top_offset:c,frame_crop_bottom_offset:l}=t,d=16*(r+1),u=(i+1)*(2-o)*16,h=2*s,p=2*a,v=2*c,f=2*l,m=d-h-p,g=u-v-f;this._screenWidth=m,this._screenHeight=g,this.sizeChangedEvent.fire({sequenceParameterSet:t,width:d,height:u,cropLeft:h,cropRight:p,cropTop:v,cropBottom:f,croppedWidth:m,croppedHeight:g}),e=n;continue}let r;e?(r=new Uint8Array(e.byteLength+n.byteLength),r.set(new Uint8Array(e)),r.set(new Uint8Array(n),e.byteLength),e=void 0):r=new Uint8Array(n),yield this.videoDataEvent.fire({pts:t,size:r.byteLength,data:r.buffer})}}catch(e){if(!this._running)return}}))}receiveControl(){return(0,c.mG)(this,void 0,void 0,(function*(){if(this.controlStream)try{for(;;){const e=yield this.controlStream.read(1);if(0!==new Uint8Array(e)[0])throw new Error("unknown control message type");{const{content:e}=yield ie.deserialize(this.controlStream);this.clipboardChangeEvent.fire(e)}}}catch(e){if(!this._running)return}}))}checkControlStream(e){if(!this._running)throw new Error(`${e} called before start`);if(!this.controlStream)throw new Error(`${e} called with control disabled`);return this.controlStream}injectKeyCode(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=this.checkControlStream("injectKeyCode");yield t.write(T.serialize(Object.assign(Object.assign({},e),{type:r.InjectKeycode})))}))}injectText(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=this.checkControlStream("injectText");yield t.write(L.serialize({type:r.InjectText,text:e}))}))}injectTouch(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=this.checkControlStream("injectTouch");this.screenWidth&&this.screenHeight&&(!this.sendingTouchMessage||e.action!==i.Move&&e.action!==i.HoverMove)&&(this.sendingTouchMessage=!0,yield t.write(z.serialize(Object.assign(Object.assign({},e),{type:r.InjectTouch,screenWidth:this.screenWidth,screenHeight:this.screenHeight}))),this.sendingTouchMessage=!1)}))}injectScroll(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=this.checkControlStream("injectScroll");if(!this.screenWidth||!this.screenHeight)return;const n=this.options.serializeInjectScrollControlMessage(Object.assign(Object.assign({},e),{type:r.InjectScroll,screenWidth:this.screenWidth,screenHeight:this.screenHeight}));yield t.write(n)}))}pressBackOrTurnOnScreen(e){return(0,c.mG)(this,void 0,void 0,(function*(){const t=this.checkControlStream("pressBackOrTurnOnScreen"),n=this.options.serializeBackOrScreenOnControlMessage(e,this.device);n&&(yield t.write(n))}))}close(){var e,t,n;return(0,c.mG)(this,void 0,void 0,(function*(){this._running&&(this._running=!1,null===(e=this.videoStream)||void 0===e||e.close(),this.videoStream=void 0,null===(t=this.controlStream)||void 0===t||t.close(),this.controlStream=void 0,yield null===(n=this.process)||void 0===n?void 0:n.kill())}))}}var se,ae;let ce;!function(e){e[e.Baseline=1]="Baseline",e[e.Main=2]="Main",e[e.Extended=4]="Extended",e[e.High=8]="High",e[e.High10=16]="High10",e[e.High422=32]="High422",e[e.High444=64]="High444",e[e.ConstrainedBaseline=65536]="ConstrainedBaseline",e[e.ConstrainedHigh=524288]="ConstrainedHigh"}(se||(se={})),function(e){e[e.Level1=1]="Level1",e[e.Level1b=2]="Level1b",e[e.Level11=4]="Level11",e[e.Level12=8]="Level12",e[e.Level13=16]="Level13",e[e.Level2=32]="Level2",e[e.Level21=64]="Level21",e[e.Level22=128]="Level22",e[e.Level3=256]="Level3",e[e.Level31=512]="Level31",e[e.Level32=1024]="Level32",e[e.Level4=2048]="Level4",e[e.Level41=4096]="Level41",e[e.Level42=8192]="Level42",e[e.Level5=16384]="Level5",e[e.Level51=32768]="Level51",e[e.Level52=65536]="Level52",e[e.Level6=131072]="Level6",e[e.Level61=262144]="Level61",e[e.Level62=524288]="Level62"}(ae||(ae={}));let le=!1;const de=[];let ue=0;const he=new k.vp;class pe extends k.Xn{constructor(e){super(),this.pictureReadyEvent=new k.vp,this.streamId=e,this.addDisposable(he.event(this.handlePictureReady,this))}get onPictureReady(){return this.pictureReadyEvent.event}handlePictureReady(e){e.renderStateId===this.streamId&&this.pictureReadyEvent.fire(e)}feed(e){ce.postMessage({type:"decode",data:e,offset:0,length:e.byteLength,renderStateId:this.streamId},[e])}dispose(){super.dispose(),ce.postMessage({type:"release",renderStateId:this.streamId})}}let ve;function fe(){return ve||(ve=Promise.all([n.e(949).then(n.t.bind(n,7949,19)),n.e(299).then(n.t.bind(n,7299,19))]).then((([e,{default:t}])=>({YuvBuffer:e,YuvCanvas:t})))),ve}class me{constructor(){this.maxProfile=se.Baseline,this.maxLevel=ae.Level4,fe(),this._element=document.createElement("canvas")}get element(){return this._element}setSize(e){return(0,c.mG)(this,void 0,void 0,(function*(){this.dispose(),this._initializer=new E.h;const{YuvBuffer:t,YuvCanvas:r}=yield fe();this._yuvCanvas||(this._yuvCanvas=r.attach(this._element));const{width:i,height:o}=e,s=i/2,a=o/2;this._element.width=e.croppedWidth,this._element.height=e.croppedHeight;const c=t.format({width:i,height:o,chromaWidth:s,chromaHeight:a,cropLeft:e.cropLeft,cropTop:e.cropTop,cropWidth:e.croppedWidth,cropHeight:e.croppedHeight,displayWidth:e.croppedWidth,displayHeight:e.croppedHeight}),l=yield function(){if(ce||(ce=new Worker(new URL(n.p+n.u(622),n.b)),ce.addEventListener("message",(e=>{const{data:t}=e;switch(t.type){case"decoderReady":le=!0;for(const e of de)e.resolve(new pe(ue)),ue+=1;de.length=0;break;case"pictureReady":he.fire(t)}}))),!le){const e=new E.h;return de.push(e),e.promise}const e=new pe(ue);return ue+=1,Promise.resolve(e)}();this._initializer.resolve(l);const d=i*o,u=d+s*a;l.onPictureReady((({data:e})=>{const n=new Uint8Array(e),r=t.frame(c,t.lumaPlane(c,n,i,0),t.chromaPlane(c,n,s,d),t.chromaPlane(c,n,s,u));this._yuvCanvas.drawFrame(r)}))}))}feed(e){return(0,c.mG)(this,void 0,void 0,(function*(){if(!this._initializer)throw new Error("Decoder not initialized");(yield this._initializer.promise).feed(e)}))}dispose(){var e;null===(e=this._initializer)||void 0===e||e.promise.then((e=>e.dispose())),this._initializer=void 0}}function ge(e){return e.toString(16).padStart(2,"0").toUpperCase()}class we{constructor(){this.maxProfile=se.High,this.maxLevel=ae.Level5,this._element=document.createElement("canvas"),this.context=this._element.getContext("2d"),this.decoder=new VideoDecoder({output:e=>{this.context.drawImage(e,0,0),e.close()},error(){}})}get element(){return this._element}setSize(e){const{sequenceParameterSet:{profile_idc:t,constraint_set:n,level_idc:r}}=e;this._element.width=e.croppedWidth,this._element.height=e.croppedHeight;const i=`avc1.${[t,n,r].map(ge).join("")}`;this.decoder.configure({codec:i,optimizeForLatency:!0})}feed(e){this.decoder.decode(new EncodedVideoChunk({type:"key",timestamp:0,data:e}))}dispose(){this.decoder.close()}}var ye="1.22",be=n(7771),Se=n(3695),xe=n(4491),Pe=n(2125),Ce=n(8767),De=n(9527);function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){_e(o,r,i,s,a,"next",e)}function a(e){_e(o,r,i,s,a,"throw",e)}s(void 0)}))}}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Te,Ue=new n.U(n(4439)).toString(),Re=function(){function e(t){je(this,e),this._downloaded=0,this._total=0,this.progressEvent=new k.vp,this.promise=this.fetch(t)}return Le(e,[{key:"downloaded",get:function(){return this._downloaded}},{key:"total",get:function(){return this._total}},{key:"onProgress",get:function(){return this.progressEvent.event}},{key:"fetch",value:function(e){var t=this;return Ee(s().mark((function n(){var r,i,o,a,c,l,d,u,h,p,v,f,m;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.fetch(e);case 2:r=n.sent,t._total=Number.parseInt(null!==(i=r.headers.get("Content-Length"))&&void 0!==i?i:"0",10),t.progressEvent.fire([t._downloaded,t._total]),o=r.body.getReader(),a=[];case 8:return n.next=11,o.read();case 11:if(!(c=n.sent).done){n.next=14;break}return n.abrupt("break",19);case 14:a.push(c.value),t._downloaded+=c.value.byteLength,t.progressEvent.fire([t._downloaded,t._total]),n.next=8;break;case 19:for(t._total=a.reduce((function(e,t){return e+t.byteLength}),0),l=new Uint8Array(t._total),d=0,u=!0,h=!1,p=void 0,n.prev=23,v=a[Symbol.iterator]();!(u=(f=v.next()).done);u=!0)m=f.value,l.set(m,d),d+=m.byteLength;n.next=31;break;case 27:n.prev=27,n.t0=n.catch(23),h=!0,p=n.t0;case 31:n.prev=31,n.prev=32,u||null==v.return||v.return();case 34:if(n.prev=34,!h){n.next=37;break}throw p;case 37:return n.finish(34);case 38:return n.finish(31);case 39:return n.abrupt("return",l.buffer);case 40:case"end":return n.stop()}}),n,null,[[23,27,31,39],[32,,34,38]])})))()}}]),e}();function Me(e,t,n){return e<t?t:e>n?n:e}var He=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;je(this,e),this.key=t,this.client=n,this.delay=r,this.interval=i}return Le(e,[{key:"press",value:function(){var e=this;return Ee(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.injectKeyCode({action:O.Down,keyCode:e.key,repeat:0,metaState:0});case 2:if(0!==e.delay){t.next=4;break}return t.abrupt("return");case 4:n=setTimeout(Ee(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.injectKeyCode({action:O.Down,keyCode:e.key,repeat:1,metaState:0});case 2:if(0!==e.interval){t.next=4;break}return t.abrupt("return");case 4:n=setInterval(Ee(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.client.injectKeyCode({action:O.Down,keyCode:e.key,repeat:1,metaState:0});case 2:case"end":return t.stop()}}),t)}))),e.interval),e.onRelease=function(){return clearInterval(n)};case 6:case"end":return t.stop()}}),t)}))),e.delay),e.onRelease=function(){return clearTimeout(n)};case 6:case"end":return t.stop()}}),t)})))()}},{key:"release",value:function(){var e=this;return Ee(s().mark((function t(){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(r=(n=e).onRelease)||void 0===r||r.call(n),t.next=4,e.client.injectKeyCode({action:O.Up,keyCode:e.key,repeat:0,metaState:0});case 4:case"end":return t.stop()}}),t)})))()}}]),e}(),Be=function(){function e(){var t=this;je(this,e),this.running=!1,this.deviceView=null,this.rendererContainer=null,this.logVisible=!1,this.log=[],this.settingsVisible=!1,this.demoModeVisible=!1,this.width=0,this.height=0,this.client=void 0,this.encoders=[],this.selectedEncoder=void 0,this.decoders=[{name:"TinyH264 (Software)",factory:me}],this.selectedDecoder=this.decoders[0],this.decoder=void 0,this.resolution=1080,this.bitRate=4e6,this.tunnelForward=!1,this.connecting=!1,this.serverTotalSize=0,this.serverDownloadedSize=0,this.debouncedServerDownloadedSize=0,this.serverDownloadSpeed=0,this.serverUploadedSize=0,this.debouncedServerUploadedSize=0,this.serverUploadSpeed=0,this.homeKeyRepeater=void 0,this.appSwitchKeyRepeater=void 0;var n=this;this.start=Ee(s().mark((function e(){var t,r,i,o,a,c,l,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce.n2.device){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,Ve.selectedDecoder){e.next=5;break}throw new Error("No available decoder");case 5:return(0,be.z)((function(){n.serverTotalSize=0,n.serverDownloadedSize=0,n.debouncedServerDownloadedSize=0,n.serverUploadedSize=0,n.debouncedServerUploadedSize=0,n.connecting=!0})),t=setInterval((0,be.aD)((function(){n.serverDownloadSpeed=n.serverDownloadedSize-n.debouncedServerDownloadedSize,n.debouncedServerDownloadedSize=n.serverDownloadedSize})),1e3),e.prev=8,e.next=11,s=(0,be.aD)((function(e){var t=Ie(e,2),r=t[0],i=t[1];n.serverDownloadedSize=r,n.serverTotalSize=i})),Te||(Te=new Re(Ue)).promise.catch((function(e){Te=void 0})),s&&(Te.onProgress(s),s([Te.downloaded,Te.total])),Te.promise;case 11:r=e.sent,(0,be.z)((function(){n.serverDownloadSpeed=n.serverDownloadedSize-n.debouncedServerDownloadedSize,n.debouncedServerDownloadedSize=n.serverDownloadedSize}));case 13:return e.prev=13,clearInterval(t),e.finish(13);case 16:return t=setInterval((0,be.aD)((function(){n.serverUploadSpeed=n.serverUploadedSize-n.debouncedServerUploadedSize,n.debouncedServerUploadedSize=n.serverUploadedSize})),1e3),e.prev=17,e.next=20,Q(Ce.n2.device,r,{onProgress:(0,be.aD)((function(e){n.serverUploadedSize=e}))});case 20:(0,be.z)((function(){n.serverUploadSpeed=n.serverUploadedSize-n.debouncedServerUploadedSize,n.debouncedServerUploadedSize=n.serverUploadedSize}));case 21:return e.prev=21,clearInterval(t),e.finish(21);case 24:return e.next=26,oe.getEncoders(Ce.n2.device,V,ye,new q({logLevel:N.Debug,bitRate:4e6,tunnelForward:n.tunnelForward,sendDeviceMeta:!1,sendDummyByte:!1}));case 26:if(0!==(i=e.sent).length){e.next=29;break}throw new Error("No available encoder found");case 29:return(0,be.z)((function(){n.encoders=i})),e.next=32,Q(Ce.n2.device,r);case 32:return o=n.selectedDecoder.factory,a=new o,(0,be.z)((function(){n.decoder=a})),c=new oe(Ce.n2.device),(0,be.z)((function(){return n.log=[]})),c.onOutput((0,be.aD)((function(e){return n.log.push(e)}))),c.onClose(n.stop),c.onSizeChanged((0,be.aD)((function(e){var t=e.croppedWidth,r=e.croppedHeight;n.log.push("[client] Video size changed: ".concat(t,"x").concat(r)),n.width=t,n.height=r,a.setSize(e)}))),c.onVideoData((function(e){var t=e.data;a.feed(t)})),c.onClipboardChange((function(e){window.navigator.clipboard.writeText(e)})),d=new q({logLevel:N.Debug,maxSize:n.resolution,bitRate:n.bitRate,lockVideoOrientation:A.Unlocked,tunnelForward:n.tunnelForward,encoderName:null!==(l=n.selectedEncoder)&&void 0!==l?l:i[0],sendDeviceMeta:!1,sendDummyByte:!1,codecOptions:new F({profile:a.maxProfile,level:a.maxLevel})}),(0,be.z)((function(){n.log.push("[client] Server version: ".concat(ye)),n.log.push("[client] Server arguments: ".concat(d.formatServerArguments().join(" ")))})),e.next=47,c.start(V,ye,d);case 47:(0,be.z)((function(){n.client=c,n.running=!0})),e.next=53;break;case 50:e.prev=50,e.t0=e.catch(2),Ce.n2.showErrorDialog(e.t0.message);case 53:return e.prev=53,(0,be.z)((function(){n.connecting=!1})),e.finish(53);case 56:case"end":return e.stop()}var s}),e,null,[[2,50,53,56],[8,,13,16],[17,,21,24]])}))),this.handleBackPointerDown=function(e){0===e.button&&(e.currentTarget.setPointerCapture(e.pointerId),t.client.pressBackOrTurnOnScreen(O.Down))},this.handleBackPointerUp=function(e){0===e.button&&t.client.pressBackOrTurnOnScreen(O.Up)},this.handleHomePointerDown=function(e){var n;0===e.button&&(e.currentTarget.setPointerCapture(e.pointerId),null===(n=t.homeKeyRepeater)||void 0===n||n.press())},this.handleHomePointerUp=function(e){var n;0===e.button&&(null===(n=t.homeKeyRepeater)||void 0===n||n.release())},this.handleAppSwitchPointerDown=function(e){var n;0===e.button&&(e.currentTarget.setPointerCapture(e.pointerId),null===(n=t.appSwitchKeyRepeater)||void 0===n||n.press())},this.handleAppSwitchPointerUp=function(e){var n;0===e.button&&(null===(n=t.appSwitchKeyRepeater)||void 0===n||n.release())},this.injectTouch=function(e,n){if(t.client){var r=t.calculatePointerPosition(n.clientX,n.clientY),i=r.x,o=r.y;t.client.injectTouch({action:e,pointerId:"mouse"===n.pointerType?BigInt(-1):BigInt(n.pointerId),pointerX:i,pointerY:o,pressure:65535*n.pressure,buttons:n.buttons})}},this.handlePointerDown=function(e){t.rendererContainer.focus(),e.preventDefault(),e.currentTarget.setPointerCapture(e.pointerId),t.injectTouch(i.Down,e)},this.handlePointerMove=function(e){t.injectTouch(0===e.buttons?i.HoverMove:i.Move,e)},this.handlePointerUp=function(e){t.injectTouch(i.Up,e)},this.handleWheel=function(e){if(t.client){e.preventDefault(),e.stopPropagation();var n=t.calculatePointerPosition(e.clientX,e.clientY),r=n.x,i=n.y;t.client.injectScroll({pointerX:r,pointerY:i,scrollX:-Math.sign(e.deltaX),scrollY:-Math.sign(e.deltaY),buttons:0})}},this.handleContextMenu=function(e){e.preventDefault()};var r=this;if(this.handleKeyDown=function(){var e=Ee(s().mark((function e(t){var n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.client){e.next=2;break}return e.abrupt("return");case 2:if(n=t.key,i=t.code,!n.match(/^[a-z0-9]$/i)){e.next=6;break}return r.client.injectText(n),e.abrupt("return");case 6:if(!(o={Backspace:I.Delete,Space:I.Space}[i])){e.next=12;break}return e.next=10,r.client.injectKeyCode({action:O.Down,keyCode:o,metaState:0,repeat:0});case 10:return e.next=12,r.client.injectKeyCode({action:O.Up,keyCode:o,metaState:0,repeat:0});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(0,be.ky)(this,{decoders:be.LO.shallow,selectedDecoder:be.LO.ref,start:!1,stop:be.aD.bound,handleDeviceViewRef:be.aD.bound,handleRendererContainerRef:be.aD.bound,handleBackPointerDown:!1,handleBackPointerUp:!1,handleHomePointerDown:!1,handleHomePointerUp:!1,handleAppSwitchPointerDown:!1,handleAppSwitchPointerUp:!1,handleCurrentEncoderChange:be.aD.bound,handleSelectedDecoderChange:be.aD.bound,handleResolutionChange:be.aD.bound,handleTunnelForwardChange:be.aD.bound,handleBitRateChange:be.aD.bound,calculatePointerPosition:!1,injectTouch:!1,handlePointerDown:!1,handlePointerMove:!1,handlePointerUp:!1,handleWheel:!1,handleContextMenu:!1,handleKeyDown:!1,homeKeyRepeater:!1,appSwitchKeyRepeater:!1}),(0,be.EH)((function(){if(Ce.n2.device){var e=t;(0,be.z)((function(){e.encoders=[],e.selectedEncoder=void 0}))}else t.stop()})),(0,be.EH)((function(){if(t.rendererContainer&&t.decoder){for(;t.rendererContainer.firstChild;)t.rendererContainer.firstChild.remove();t.rendererContainer.appendChild(t.decoder.element)}})),(0,be.EH)((function(){t.client?(t.homeKeyRepeater=new He(I.Home,t.client),t.appSwitchKeyRepeater=new He(I.AppSwitch,t.client)):(t.homeKeyRepeater=void 0,t.appSwitchKeyRepeater=void 0)})),"function"===typeof window.VideoDecoder){var o=this;setTimeout((0,be.aD)((function(){o.decoders.unshift({name:"WebCodecs",factory:we}),o.selectedDecoder=o.decoders[0]})),0)}}return Le(e,[{key:"commandBarItems",get:function(){var e=this,t=[];return this.running?t.push({key:"stop",iconProps:{iconName:De.PJ.Stop},text:"Stop",onClick:this.stop}):t.push({key:"start",disabled:!Ce.n2.device,iconProps:{iconName:De.PJ.Play},text:"Start",onClick:this.start}),t.push({key:"fullscreen",disabled:!this.running,iconProps:{iconName:De.PJ.FullScreenMaximize},text:"Fullscreen",onClick:function(){var t;null===(t=e.deviceView)||void 0===t||t.enterFullscreen()}}),t}},{key:"commandBarFarItems",get:function(){var e=this;return[{key:"Log",iconProps:{iconName:De.PJ.TextGrammarError},checked:this.logVisible,text:"Log",onClick:(0,be.aD)((function(){e.logVisible=!e.logVisible}))},{key:"Settings",iconProps:{iconName:De.PJ.Settings},checked:this.settingsVisible,text:"Settings",onClick:(0,be.aD)((function(){e.settingsVisible=!e.settingsVisible}))},{key:"DemoMode",iconProps:{iconName:De.PJ.Wand},checked:this.demoModeVisible,text:"Demo Mode",onClick:(0,be.aD)((function(){e.demoModeVisible=!e.demoModeVisible}))},{key:"info",iconProps:{iconName:De.PJ.Info},iconOnly:!0,tooltipHostProps:{content:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)(Pe.dL,{href:"https://github.com/Genymobile/scrcpy",spaceAfter:!0,children:"Scrcpy"}),"developed by Genymobile can display the screen with low latency (1~2 frames) and control the device, all without root access."]}),(0,a.jsx)("p",{children:"This is a TypeScript implementation of the client part. Paired with official pre-built server binary."})]}),calloutProps:{calloutMaxWidth:300}}}]}},{key:"stop",value:function(){var e,t;null===(e=this.decoder)||void 0===e||e.dispose(),this.decoder=void 0,null===(t=this.client)||void 0===t||t.close(),this.client=void 0,this.running=!1}},{key:"handleDeviceViewRef",value:function(e){this.deviceView=e}},{key:"handleRendererContainerRef",value:function(e){var t;this.rendererContainer=e,null===(t=this.rendererContainer)||void 0===t||t.addEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"handleCurrentEncoderChange",value:function(e,t){t&&(this.selectedEncoder=t.text)}},{key:"handleSelectedDecoderChange",value:function(e,t){t&&(this.selectedDecoder=t.data)}},{key:"handleResolutionChange",value:function(e,t){void 0!==t&&(this.resolution=+t)}},{key:"handleBitRateChange",value:function(e,t){void 0!==t&&(this.bitRate=+t)}},{key:"handleTunnelForwardChange",value:function(e,t){void 0!==t&&(this.tunnelForward=t)}},{key:"calculatePointerPosition",value:function(e,t){var n=this.rendererContainer.getBoundingClientRect(),r=e-n.x,i=t-n.y;return{x:Me(r/n.width,0,1)*this.width,y:Me(i/n.height,0,1)*this.height}}}]),e}(),Ve=new Be,Ne=(0,Se.Pi)((function(){var e=(0,D.M)("layerHost"),t=(0,l.useState)(!1),n=t[0],r=t[1];return(0,l.useEffect)((function(){r(!0)}),[]),n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h,{id:e,style:{position:"absolute",top:0,bottom:0,left:0,right:0,margin:0,pointerEvents:"none"}}),(0,a.jsx)(v.V,{hidden:!Ve.connecting,modalProps:{layerProps:{hostId:e}},dialogContentProps:{title:"Connecting..."},children:(0,a.jsxs)(f.K,{tokens:De.WT,children:[(0,a.jsx)(m.Y,{label:"1. Downloading scrcpy server...",percentComplete:Ve.serverTotalSize?Ve.serverDownloadedSize/Ve.serverTotalSize:void 0,description:(0,De.CY)(Ve.debouncedServerDownloadedSize,Ve.serverTotalSize,Ve.serverDownloadSpeed)}),(0,a.jsx)(m.Y,{label:"2. Pushing scrcpy server to device...",progressHidden:0===Ve.serverTotalSize||Ve.serverDownloadedSize!==Ve.serverTotalSize,percentComplete:Ve.serverUploadedSize/Ve.serverTotalSize,description:(0,De.CY)(Ve.debouncedServerUploadedSize,Ve.serverTotalSize,Ve.serverUploadSpeed)}),(0,a.jsx)(m.Y,{label:"3. Starting scrcpy server on device...",progressHidden:0===Ve.serverTotalSize||Ve.serverUploadedSize!==Ve.serverTotalSize})]})})]}):null})),Ae=(0,Se.Pi)((function(){var e=(0,a.jsx)(f.K,{verticalFill:!0,horizontalAlign:"center",style:{background:"#999"},children:(0,a.jsxs)(f.K,{verticalFill:!0,horizontal:!0,style:{width:"100%",maxWidth:300},horizontalAlign:"space-evenly",verticalAlign:"center",children:[(0,a.jsx)(g.h,{iconProps:{iconName:De.PJ.Play},style:{transform:"rotate(180deg)",color:"white"},onPointerDown:Ve.handleBackPointerDown,onPointerUp:Ve.handleBackPointerUp}),(0,a.jsx)(g.h,{iconProps:{iconName:De.PJ.Circle},style:{color:"white"},onPointerDown:Ve.handleHomePointerDown,onPointerUp:Ve.handleHomePointerUp}),(0,a.jsx)(g.h,{iconProps:{iconName:De.PJ.Stop},style:{color:"white"},onPointerDown:Ve.handleAppSwitchPointerDown,onPointerUp:Ve.handleAppSwitchPointerUp})]})});return(0,a.jsxs)(f.K,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Oe(e,t,n[t])}))}return e}({},De.LE,{children:[(0,a.jsx)(xe.default,{children:(0,a.jsx)("title",{children:"Scrcpy - WebADB"})}),(0,a.jsx)(w.X,{items:Ve.commandBarItems,farItems:Ve.commandBarFarItems}),(0,a.jsxs)(f.K,{horizontal:!0,grow:!0,styles:{root:{height:0}},children:[(0,a.jsx)(Pe.wM,{ref:Ve.handleDeviceViewRef,width:Ve.width,height:Ve.height,bottomElement:e,bottomHeight:40,children:(0,a.jsx)("div",{ref:Ve.handleRendererContainerRef,tabIndex:-1,onPointerDown:Ve.handlePointerDown,onPointerMove:Ve.handlePointerMove,onPointerUp:Ve.handlePointerUp,onPointerCancel:Ve.handlePointerUp,onKeyDown:Ve.handleKeyDown,onContextMenu:Ve.handleContextMenu})}),(0,a.jsx)("div",{style:{padding:12,overflow:"hidden auto",display:Ve.logVisible?"block":"none",width:500,fontFamily:"monospace",overflowY:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:Ve.log.map((function(e,t){return(0,a.jsx)("div",{children:e},t)}))}),(0,a.jsxs)("div",{style:{padding:12,overflow:"hidden auto",display:Ve.settingsVisible?"block":"none",width:300},children:[(0,a.jsx)("div",{children:"Changes will take effect on next connection"}),(0,a.jsx)(y.L,{label:"Encoder",options:Ve.encoders.map((function(e){return{key:e,text:e}})),selectedKey:Ve.selectedEncoder,placeholder:"Connect once to retrieve encoder list",onChange:Ve.handleCurrentEncoderChange}),Ve.decoders.length>1&&(0,a.jsx)(y.L,{label:"Decoder",options:Ve.decoders.map((function(e){return{key:e.name,text:e.name,data:e}})),selectedKey:Ve.selectedDecoder.name,onChange:Ve.handleSelectedDecoderChange}),(0,a.jsx)(b.k,{label:"Max Resolution (longer side, 0 = unlimited)",labelPosition:S.L.top,value:Ve.resolution.toString(),min:0,max:2560,step:100,onChange:Ve.handleResolutionChange}),(0,a.jsx)(b.k,{label:"Max Bit Rate",labelPosition:S.L.top,value:Ve.bitRate.toString(),min:100,max:1e7,step:100,onChange:Ve.handleBitRateChange}),(0,a.jsx)(x.Z,{label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{children:["Use forward connection"," "]}),(0,a.jsx)(P.G,{content:"Old Android devices may not support reverse connection when using ADB over WiFi",children:(0,a.jsx)(C.J,{iconName:De.PJ.Info})})]}),checked:Ve.tunnelForward,onChange:Ve.handleTunnelForwardChange})]}),(0,a.jsx)(Pe.Uv,{style:{display:Ve.demoModeVisible?"block":"none"}}),(0,a.jsx)(Ne,{})]})]}))}))},4491:function(e,t,n){e.exports=n(1896)},4439:function(e,t,n){"use strict";e.exports=n.p+"static/chunks/scrcpy-server.daacb5bb91cf59d7"}},function(e){e.O(0,[888,179],(function(){return t=2371,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=scrcpy-56245afdec969210.js.map