"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{7372:function(t,e,i){i.d(e,{Z:function(){return o}});var s=i(4665),a=i(3370),h=i(8933),r=i(5384),n=i(9026),d=i(8069),o=function(t){var e=t.className,i=a.useState(function(){return(0,r.z)()})[0],o=t.id,l=void 0===o?i:o,f=a.useRef({hostId:l,rootRef:a.useRef(null),notifyLayersChanged:function(){}});return a.useImperativeHandle(t.componentRef,function(){return f.current}),a.useEffect(function(){(0,d._Y)(l,f.current),(0,d.EQ)(l)},[]),(0,h.k)(function(){(0,d.nw)(l,f.current),(0,d.EQ)(l)}),a.createElement("div",(0,s.pi)({},t,{className:(0,n.i)("ms-LayerHost",e),ref:f.current.rootRef}))}},6843:function(t){var e,i,s,a,h,r,n,d,o,l,f,u,w,c,p,k,y,b,m,g,M,U,V,v,L,W,E,C,B,A,z,S,I,N,x,O,R,F,D,_,T,j,P,H,Q,$,Y,Z,q,G,J,K,X,tt,te,ti,ts,ta,th,tr,tn,td,to,tl,tf,tu,tw,tc,tp,tk,ty,tb,tm,tg,tM,tU,tV,tv,tL,tW=(X=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,te=Object.getOwnPropertyNames,ti=Object.prototype.hasOwnProperty,ts=Math.pow,ta=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},th=(t,e,i)=>(ta(t,e,"read from private field"),i?i.call(t):e.get(t)),tr=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},tn=(t,e,i,s)=>(ta(t,e,"write to private field"),s?s.call(t,i):e.set(t,i),i),td=(t,e,i)=>(ta(t,e,"access private method"),i),((t,e)=>{for(var i in e)X(t,i,{get:e[i],enumerable:!0})})(to={},{default:()=>tV}),tl=class{constructor(t){this.value=t}},tf=class{constructor(t){this.value=t}},tu=class{constructor(){this.pos=0,this.helper=new Uint8Array(8),this.helperView=new DataView(this.helper.buffer),this.offsets=new WeakMap,this.dataOffsets=new WeakMap}writeFloat32(t){this.helperView.setFloat32(0,t,!1),this.write(this.helper.subarray(0,4))}writeFloat64(t){this.helperView.setFloat64(0,t,!1),this.write(this.helper)}writeUnsignedInt(t,e=tw(t)){let i=0;switch(e){case 6:this.helperView.setUint8(i++,t/ts(2,40)|0);case 5:this.helperView.setUint8(i++,t/ts(2,32)|0);case 4:this.helperView.setUint8(i++,t>>24);case 3:this.helperView.setUint8(i++,t>>16);case 2:this.helperView.setUint8(i++,t>>8);case 1:this.helperView.setUint8(i++,t);break;default:throw Error("Bad UINT size "+e)}this.write(this.helper.subarray(0,i))}writeEBMLVarInt(t,e=tc(t)){let i=0;switch(e){case 1:this.helperView.setUint8(i++,128|t);break;case 2:this.helperView.setUint8(i++,64|t>>8),this.helperView.setUint8(i++,t);break;case 3:this.helperView.setUint8(i++,32|t>>16),this.helperView.setUint8(i++,t>>8),this.helperView.setUint8(i++,t);break;case 4:this.helperView.setUint8(i++,16|t>>24),this.helperView.setUint8(i++,t>>16),this.helperView.setUint8(i++,t>>8),this.helperView.setUint8(i++,t);break;case 5:this.helperView.setUint8(i++,8|t/ts(2,32)&7),this.helperView.setUint8(i++,t>>24),this.helperView.setUint8(i++,t>>16),this.helperView.setUint8(i++,t>>8),this.helperView.setUint8(i++,t);break;case 6:this.helperView.setUint8(i++,4|t/ts(2,40)&3),this.helperView.setUint8(i++,t/ts(2,32)|0),this.helperView.setUint8(i++,t>>24),this.helperView.setUint8(i++,t>>16),this.helperView.setUint8(i++,t>>8),this.helperView.setUint8(i++,t);break;default:throw Error("Bad EBML VINT size "+e)}this.write(this.helper.subarray(0,i))}writeString(t){this.write(new Uint8Array(t.split("").map(t=>t.charCodeAt(0))))}writeEBML(t){var e,i;if(t instanceof Uint8Array)this.write(t);else if(Array.isArray(t))for(let e of t)this.writeEBML(e);else if(this.offsets.set(t,this.pos),this.writeUnsignedInt(t.id),Array.isArray(t.data)){let i=this.pos,s=null!=(e=t.size)?e:4;this.seek(this.pos+s);let a=this.pos;this.dataOffsets.set(t,a),this.writeEBML(t.data);let h=this.pos-a,r=this.pos;this.seek(i),this.writeEBMLVarInt(h,s),this.seek(r)}else if("number"==typeof t.data){let e=null!=(i=t.size)?i:tw(t.data);this.writeEBMLVarInt(e),this.writeUnsignedInt(t.data,e)}else"string"==typeof t.data?(this.writeEBMLVarInt(t.data.length),this.writeString(t.data)):t.data instanceof Uint8Array?(this.writeEBMLVarInt(t.data.byteLength,t.size),this.write(t.data)):t.data instanceof tl?(this.writeEBMLVarInt(4),this.writeFloat32(t.data.value)):t.data instanceof tf&&(this.writeEBMLVarInt(8),this.writeFloat64(t.data.value))}},tw=t=>t<256?1:t<65536?2:t<16777216?3:t<ts(2,32)?4:t<ts(2,40)?5:6,tc=t=>{if(t<127)return 1;if(t<16383)return 2;if(t<2097151)return 3;if(t<268435455)return 4;if(t<ts(2,35)-1)return 5;if(t<ts(2,42)-1)return 6;throw Error("EBML VINT size not supported "+t)},tp=class extends tu{constructor(){super(),this.buffer=new ArrayBuffer(ts(2,16)),this.bytes=new Uint8Array(this.buffer)}ensureSize(t){let e=this.buffer.byteLength;for(;e<t;)e*=2;if(e===this.buffer.byteLength)return;let i=new ArrayBuffer(e),s=new Uint8Array(i);s.set(this.bytes,0),this.buffer=i,this.bytes=s}write(t){this.ensureSize(this.pos+t.byteLength),this.bytes.set(t,this.pos),this.pos+=t.byteLength}seek(t){this.pos=t}finalize(){return this.ensureSize(this.pos),this.buffer.slice(0,this.pos)}},tk=ts(2,24),ty=class extends tu{constructor(t){super(),this.chunks=[],this.stream=t}write(t){this.writeDataIntoChunks(t,this.pos),this.flushChunks(),this.pos+=t.byteLength}writeDataIntoChunks(t,e){let i=this.chunks.findIndex(t=>t.start<=e&&e<t.start+tk);-1===i&&(i=this.createChunk(e));let s=this.chunks[i],a=e-s.start,h=t.subarray(0,Math.min(tk-a,t.byteLength));if(s.data.set(h,a),tb(s,{start:a,end:a+h.byteLength}),0===s.written[0].start&&s.written[0].end===tk&&(s.shouldFlush=!0),this.chunks.length>2){for(let t=0;t<this.chunks.length-1;t++)this.chunks[t].shouldFlush=!0;this.flushChunks()}h.byteLength<t.byteLength&&this.writeDataIntoChunks(t.subarray(h.byteLength),e+h.byteLength)}createChunk(t){let e={start:Math.floor(t/tk)*tk,data:new Uint8Array(tk),written:[],shouldFlush:!1};return this.chunks.push(e),this.chunks.sort((t,e)=>t.start-e.start),this.chunks.indexOf(e)}flushChunks(t=!1){for(let e=0;e<this.chunks.length;e++){let i=this.chunks[e];if(i.shouldFlush||t){for(let t of i.written)this.stream.write({type:"write",data:i.data.subarray(t.start,t.end),position:i.start+t.start});this.chunks.splice(e--,1)}}}seek(t){this.pos=t}finalize(){this.flushChunks(!0)}},tb=(t,e)=>{let i=0,s=t.written.length-1,a=-1;for(;i<=s;){let h=Math.floor(i+(s-i+1)/2);t.written[h].start<=e.start?(i=h+1,a=h):s=h-1}for(t.written.splice(a+1,0,e),(-1===a||t.written[a].end<e.start)&&a++;a<t.written.length-1&&t.written[a].end>=t.written[a+1].start;)t.written[a].end=Math.max(t.written[a].end,t.written[a+1].end),t.written.splice(a+1,1)},tm=ts(2,15),tg=ts(2,12),tM="https://github.com/Vanilagy/webm-muxer",tU=class{constructor(t){tr(this,M),tr(this,V),tr(this,L),tr(this,E),tr(this,B),tr(this,z),tr(this,I),tr(this,x),tr(this,R),tr(this,D),tr(this,T),tr(this,P),tr(this,Q),tr(this,Y),tr(this,q),tr(this,J),tr(this,e,void 0),tr(this,i,void 0),tr(this,s,void 0),tr(this,a,void 0),tr(this,h,void 0),tr(this,r,void 0),tr(this,n,void 0),tr(this,d,void 0),tr(this,o,void 0),tr(this,l,void 0),tr(this,f,void 0),tr(this,u,void 0),tr(this,w,void 0),tr(this,c,0),tr(this,p,[]),tr(this,k,[]),tr(this,y,0),tr(this,b,0),tr(this,m,void 0),tr(this,g,!1),tn(this,i,t),"buffer"===t.target?tn(this,e,new tp):tn(this,e,new ty(t.target)),td(this,M,U).call(this)}addVideoChunk(t,e,i){let s=new Uint8Array(t.byteLength);t.copyTo(s),this.addVideoChunkRaw(s,t.type,null!=i?i:t.timestamp,e)}addVideoChunkRaw(t,e,s,a){if(td(this,J,K).call(this),!th(this,i).video)throw Error("No video track declared.");a&&td(this,R,F).call(this,a);let h=td(this,T,j).call(this,t,e,s,1);for("V_VP9"===th(this,i).video.codec&&td(this,D,_).call(this,h),tn(this,y,h.timestamp);th(this,k).length>0&&th(this,k)[0].timestamp<=h.timestamp;){let t=th(this,k).shift();td(this,P,H).call(this,t)}!th(this,i).audio||h.timestamp<=th(this,b)?td(this,P,H).call(this,h):th(this,p).push(h)}addAudioChunk(t,e,i){let s=new Uint8Array(t.byteLength);t.copyTo(s),this.addAudioChunkRaw(s,t.type,null!=i?i:t.timestamp,e)}addAudioChunkRaw(t,e,s,a){if(td(this,J,K).call(this),!th(this,i).audio)throw Error("No audio track declared.");let h=td(this,T,j).call(this,t,e,s,2);for(tn(this,b,h.timestamp);th(this,p).length>0&&th(this,p)[0].timestamp<=h.timestamp;){let t=th(this,p).shift();td(this,P,H).call(this,t)}!th(this,i).video||h.timestamp<=th(this,y)?td(this,P,H).call(this,h):th(this,k).push(h),(null==a?void 0:a.decoderConfig)&&td(this,Q,$).call(this,th(this,l),a.decoderConfig.description)}finalize(){for(;th(this,p).length>0;)td(this,P,H).call(this,th(this,p).shift());for(;th(this,k).length>0;)td(this,P,H).call(this,th(this,k).shift());td(this,q,G).call(this),th(this,e).writeEBML(th(this,f));let t=th(this,e).pos,i=th(this,e).pos-th(this,x,O);return(th(this,e).seek(th(this,e).offsets.get(th(this,s))+4),th(this,e).writeEBMLVarInt(i,6),th(this,n).data=new tf(th(this,c)),th(this,e).seek(th(this,e).offsets.get(th(this,n))),th(this,e).writeEBML(th(this,n)),th(this,h).data[0].data[1].data=th(this,e).offsets.get(th(this,f))-th(this,x,O),th(this,h).data[1].data[1].data=th(this,e).offsets.get(th(this,a))-th(this,x,O),th(this,h).data[2].data[1].data=th(this,e).offsets.get(th(this,r))-th(this,x,O),th(this,e).seek(th(this,e).offsets.get(th(this,h))),th(this,e).writeEBML(th(this,h)),th(this,e).seek(t),tn(this,g,!0),th(this,e) instanceof tp)?th(this,e).finalize():(th(this,e) instanceof ty&&th(this,e).finalize(),null)}},e=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap,h=new WeakMap,r=new WeakMap,n=new WeakMap,d=new WeakMap,o=new WeakMap,l=new WeakMap,f=new WeakMap,u=new WeakMap,w=new WeakMap,c=new WeakMap,p=new WeakMap,k=new WeakMap,y=new WeakMap,b=new WeakMap,m=new WeakMap,g=new WeakMap,M=new WeakSet,U=function(){td(this,V,v).call(this),td(this,L,W).call(this),td(this,E,C).call(this),td(this,B,A).call(this),td(this,z,S).call(this),td(this,I,N).call(this)},V=new WeakSet,v=function(){th(this,e).writeEBML({id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:"webm"},{id:17031,data:2},{id:17029,data:2}]})},L=new WeakSet,W=function(){let t=new Uint8Array([28,83,187,107]),e=new Uint8Array([21,73,169,102]),i=new Uint8Array([22,84,174,107]);tn(this,h,{id:290298740,data:[{id:19899,data:[{id:21419,data:t},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:e},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:i},{id:21420,size:5,data:0}]}]})},E=new WeakSet,C=function(){let t={id:17545,data:new tf(0)};tn(this,n,t),tn(this,a,{id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:tM},{id:22337,data:tM},t]})},B=new WeakSet,A=function(){let t={id:374648427,data:[]};if(tn(this,r,t),th(this,i).video){tn(this,o,{id:236,size:4,data:new Uint8Array(tg)});let e={id:21936,data:[{id:21937,data:2},{id:21946,data:2},{id:21947,data:2},{id:21945,data:0}]};tn(this,d,e),t.data.push({id:174,data:[{id:215,data:1},{id:29637,data:1},{id:131,data:1},{id:134,data:th(this,i).video.codec},th(this,o),th(this,i).video.frameRate?{id:2352003,data:1e9/th(this,i).video.frameRate}:null,{id:224,data:[{id:176,data:th(this,i).video.width},{id:186,data:th(this,i).video.height},e]}].filter(Boolean)})}th(this,i).audio&&(tn(this,l,{id:236,size:4,data:new Uint8Array(tg)}),t.data.push({id:174,data:[{id:215,data:2},{id:29637,data:2},{id:131,data:2},{id:134,data:th(this,i).audio.codec},th(this,l),{id:225,data:[{id:181,data:new tl(th(this,i).audio.sampleRate)},{id:159,data:th(this,i).audio.numberOfChannels},th(this,i).audio.bitDepth?{id:25188,data:th(this,i).audio.bitDepth}:null].filter(Boolean)}]}))},z=new WeakSet,S=function(){let t={id:408125543,size:6,data:[th(this,h),th(this,a),th(this,r)]};tn(this,s,t),th(this,e).writeEBML(t)},I=new WeakSet,N=function(){tn(this,f,{id:475249515,data:[]})},x=new WeakSet,O=function(){return th(this,e).dataOffsets.get(th(this,s))},R=new WeakSet,F=function(t){if(t.decoderConfig){if(t.decoderConfig.colorSpace){let i=t.decoderConfig.colorSpace;tn(this,m,i),th(this,d).data=[{id:21937,data:{rgb:1,bt709:1,bt470bg:5,smpte170m:6}[i.matrix]},{id:21946,data:{bt709:1,smpte170m:6,"iec61966-2-1":13}[i.transfer]},{id:21947,data:{bt709:1,bt470bg:5,smpte170m:6}[i.primaries]},{id:21945,data:[1,2][Number(i.fullRange)]}];let s=th(this,e).pos;th(this,e).seek(th(this,e).offsets.get(th(this,d))),th(this,e).writeEBML(th(this,d)),th(this,e).seek(s)}t.decoderConfig.description&&td(this,Q,$).call(this,th(this,o),t.decoderConfig.description)}},D=new WeakSet,_=function(t){if("key"!==t.type||!th(this,m))return;let e=0;if(2!==tv(t.data,0,2))return;e+=2;let i=(tv(t.data,e+1,e+2)<<1)+tv(t.data,e+0,e+1);e+=2,3===i&&e++;let s=tv(t.data,e+0,e+1);if(e++,s)return;let a=tv(t.data,e+0,e+1);if(e++,0!==a)return;e+=2;let h=tv(t.data,e+0,e+24);if(e+=24,4817730!==h)return;i>=2&&e++;let r={rgb:7,bt709:2,bt470bg:1,smpte170m:3}[th(this,m).matrix];tL(t.data,e+0,e+3,r)},T=new WeakSet,j=function(t,e,i,s){return{data:t,type:e,timestamp:i,trackNumber:s}},P=new WeakSet,H=function(t){let s=Math.floor(t.timestamp/1e3);if("key"!==t.type&&s-th(this,w)>=tm)throw Error(`Current Matroska cluster exceeded its maximum allowed length of ${tm} milliseconds. In order to produce a correct WebM file, you must pass in a video key frame at least every ${tm} milliseconds.`);let a=(1===t.trackNumber||!th(this,i).video)&&"key"===t.type&&s-th(this,w)>=1e3;(!th(this,u)||a)&&td(this,Y,Z).call(this,s);let h=new Uint8Array(4),r=new DataView(h.buffer);r.setUint8(0,128|t.trackNumber),r.setUint16(1,s-th(this,w),!1),r.setUint8(3,Number("key"===t.type)<<7);let n={id:163,data:[h,t.data]};th(this,e).writeEBML(n),tn(this,c,Math.max(th(this,c),s))},Q=new WeakSet,$=function(t,i){let s=th(this,e).pos;th(this,e).seek(th(this,e).offsets.get(t)),t=[{id:25506,size:4,data:new Uint8Array(i)},{id:236,size:4,data:new Uint8Array(tg-2-4-i.byteLength)}],th(this,e).writeEBML(t),th(this,e).seek(s)},Y=new WeakSet,Z=function(t){th(this,u)&&td(this,q,G).call(this),tn(this,u,{id:524531317,size:5,data:[{id:231,data:t}]}),th(this,e).writeEBML(th(this,u)),tn(this,w,t);let i=th(this,e).offsets.get(th(this,u))-th(this,x,O);th(this,f).data.push({id:187,data:[{id:179,data:t},{id:183,data:[{id:247,data:1},{id:241,data:i}]}]})},q=new WeakSet,G=function(){let t=th(this,e).pos-th(this,e).dataOffsets.get(th(this,u)),i=th(this,e).pos;th(this,e).seek(th(this,e).offsets.get(th(this,u))+4),th(this,e).writeEBMLVarInt(t,5),th(this,e).seek(i)},J=new WeakSet,K=function(){if(th(this,g))throw Error("Cannot add new video or audio chunks after the file has been finalized.")},tV=tU,tv=(t,e,i)=>{let s=0;for(let a=e;a<i;a++){let e=t[Math.floor(a/8)],i=7-(7&a);s<<=1,s|=(e&1<<i)>>i}return s},tL=(t,e,i,s)=>{for(let a=e;a<i;a++){let e=Math.floor(a/8),h=t[e],r=7-(7&a);h&=~(1<<r),h|=(s&1<<i-a-1)>>i-a-1<<r,t[e]=h}},((t,e,i,s)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let i of te(e))ti.call(t,i)||void 0===i||X(t,i,{get:()=>e[i],enumerable:!(s=tt(e,i))||s.enumerable});return t})(X({},"__esModule",{value:!0}),to));tW=tW.default,"object"==typeof t.exports&&(t.exports=tW)}}]);
//# sourceMappingURL=744-212a24c1fd2433d1.js.map