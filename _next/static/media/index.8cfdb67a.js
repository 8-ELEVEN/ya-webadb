!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@angular/core"),require("@angular/forms"),require("@ng-bootstrap/ng-bootstrap"),require("tabby-core"),require("tabby-terminal"));else if("function"==typeof define&&define.amd)define(["@angular/core","@angular/forms","@ng-bootstrap/ng-bootstrap","tabby-core","tabby-terminal"],t);else{var r="object"==typeof exports?t(require("@angular/core"),require("@angular/forms"),require("@ng-bootstrap/ng-bootstrap"),require("tabby-core"),require("tabby-terminal")):t(e["@angular/core"],e["@angular/forms"],e["@ng-bootstrap/ng-bootstrap"],e["tabby-core"],e["tabby-terminal"]);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(global,(e,t,r,n,o)=>(()=>{var i={902:e=>{e.exports='<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="plus" class="svg-inline--fa fa-plus" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M432 256C432 264.8 424.8 272 416 272h-176V448c0 8.844-7.156 16.01-16 16.01S208 456.8 208 448V272H32c-8.844 0-16-7.15-16-15.99C16 247.2 23.16 240 32 240h176V64c0-8.844 7.156-15.99 16-15.99S240 55.16 240 64v176H416C424.8 240 432 247.2 432 256z"></path></svg>'},900:t=>{"use strict";t.exports=e},161:e=>{"use strict";e.exports=t},571:e=>{"use strict";e.exports=r},315:e=>{"use strict";e.exports=n},316:e=>{"use strict";e.exports=o}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return i[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{"use strict";/*!***********************************!*\
  !*** ./src/index.ts + 45 modules ***!
  \***********************************/s.r(l),s.d(l,{AdbState:()=>nq,default:()=>sv});var e,t,r,n,o,i,a,u,c,d,h,f=function(e,t){return(Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},_=function(){return(Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function b(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function v(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})}var y=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},g=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},m=s(900),w=s(161),S=s(571),O=s(315),T=s.n(O),R=s(316),A=s.n(R),P={0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(e,t){return"Cannot apply '"+e+"' to '"+t.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",16:"Modification exception: the internal structure of an observable array was changed.",17:function(e,t){return"[mobx.array] Index out of bounds, "+e+" is larger than "+t},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(e){return"Cannot initialize from classes that inherit from Map: "+e.constructor.name},20:function(e){return"Cannot initialize map from "+e},21:function(e){return"Cannot convert to map from '"+e+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(e){return"Cannot obtain administration from "+e},25:function(e,t){return"the entry '"+e+"' does not exist in the observable map '"+t+"'"},26:"please specify a property",27:function(e,t){return"no observable property '"+e.toString()+"' found on the observable object '"+t+"'"},28:function(e){return"Cannot obtain atom from "+e},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(e,t){return"Cycle detected in computation "+e+": "+t},33:function(e){return"The setter of computed value '"+e+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(e){return"[ComputedValue '"+e+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(e){return"[mobx] `observableArray."+e+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+e+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"},j={};function E(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("number"==typeof e?"[MobX] minified error nr: "+e+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var k={};function C(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:k}var q=Object.assign,x=Object.getOwnPropertyDescriptor,I=Object.defineProperty,B=Object.prototype,L=[];Object.freeze(L);var z={};Object.freeze(z);var N="undefined"!=typeof Proxy,W=Object.toString();function V(){N||E("Proxy not available")}function M(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var D=function(){};function F(e){return"function"==typeof e}function U(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function $(e){return null!==e&&"object"==typeof e}function K(e){if(!$(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r.toString()===W}function H(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function G(e,t,r){I(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function Y(e,t,r){I(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function Q(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return $(e)&&!0===e[r]}}function X(e){return e instanceof Map}function J(e){return e instanceof Set}var Z=void 0!==Object.getOwnPropertySymbols;function ee(e){var t=Object.keys(e);if(!Z)return t;var r=Object.getOwnPropertySymbols(e);return r.length?[].concat(t,r.filter(function(t){return B.propertyIsEnumerable.call(e,t)})):t}var et="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Z?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function er(e){return null===e?null:"object"==typeof e?""+e:e}function en(e,t){return B.hasOwnProperty.call(e,t)}var eo=Object.getOwnPropertyDescriptors||function(e){var t={};return et(e).forEach(function(r){t[r]=x(e,r)}),t};function ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eb(n.key),n)}}function ea(e,t,r){return t&&ei(e.prototype,t),r&&ei(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function es(){return(es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function el(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,eu(e,t)}function eu(e,t){return(eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ed(e,t){if(e){if("string"==typeof e)return eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,t)}}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ef(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=ed(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e_(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function eb(e){var t=e_(e,"string");return"symbol"==typeof t?t:String(t)}var ep=Symbol("mobx-stored-annotations");function ev(e){return Object.assign(function(t,r){ey(t,r,e)},e)}function ey(e,t,r){en(e,ep)||G(e,ep,es({},e[ep])),ek(r)||(e[ep][t]=r)}var eg=Symbol("mobx administration"),em=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=o.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return tX(this)},t.reportChanged=function(){tY(),tJ(this),t$.stateVersion=t$.stateVersion<Number.MAX_SAFE_INTEGER?t$.stateVersion+1:Number.MIN_SAFE_INTEGER,tQ()},t.toString=function(){return this.name_},e}(),ew=Q("Atom",em);function eS(e,t,r){void 0===t&&(t=D),void 0===r&&(r=D);var n=new em(e);return t!==D&&ry(n,t),r!==D&&rg(n,r),n}var eO={identity:function(e,t){return e===t},structural:function(e,t){return nP(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return nP(e,t,1)}};function eT(e,t,r){return rI(e)?e:Array.isArray(e)?ts.array(e,{name:r}):K(e)?ts.object(e,void 0,{name:r}):X(e)?ts.map(e,{name:r}):J(e)?ts.set(e,{name:r}):"function"!=typeof e||rh(e)||rq(e)?e:H(e)?rk(e):rd(r,e)}function eR(e,t,r){return null==e||nf(e)||r5(e)||nr(e)||na(e)?e:Array.isArray(e)?ts.array(e,{name:r,deep:!1}):K(e)?ts.object(e,void 0,{name:r,deep:!1}):X(e)?ts.map(e,{name:r,deep:!1}):J(e)?ts.set(e,{name:r,deep:!1}):void 0}function eA(e){return e}function eP(e,t){return nP(e,t)?t:e}var ej="override",eE=ev({annotationType_:ej,make_:eC,extend_:eq});function ek(e){return e.annotationType_===ej}function eC(e,t){return 0}function eq(e,t,r,n){E("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function ex(e,t){return{annotationType_:e,options_:t,make_:eI,extend_:eB}}function eI(e,t,r,n){if(null!=(o=this.options_)&&o.bound)return null===this.extend_(e,t,r,!1)?0:1;if(n===e.target_)return null===this.extend_(e,t,r,!1)?0:2;if(rh(r.value))return 1;var o,i=ez(e,this,t,r,!1);return I(n,t,i),2}function eB(e,t,r,n){var o=ez(e,this,t,r);return e.defineProperty_(t,o,n)}function eL(e,t,r,n){t.annotationType_,n.value}function ez(e,t,r,n,o){void 0===o&&(o=t$.safeDescriptors),eL(e,t,r,n);var i,a,s,l,u,c,d,h,f=n.value;return null!=(i=t.options_)&&i.bound&&(f=f.bind(null!=(h=e.proxy_)?h:e.target_)),{value:tv(null!=(a=null==(s=t.options_)?void 0:s.name)?a:r.toString(),f,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function eN(e,t){return{annotationType_:e,options_:t,make_:eW,extend_:eV}}function eW(e,t,r,n){if(n===e.target_)return null===this.extend_(e,t,r,!1)?0:2;if(null!=(o=this.options_)&&o.bound&&(!en(e.target_,t)||!rq(e.target_[t]))&&null===this.extend_(e,t,r,!1))return 0;if(rq(r.value))return 1;var o,i=eD(e,this,t,r,!1,!1);return I(n,t,i),2}function eV(e,t,r,n){var o,i=eD(e,this,t,r,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,i,n)}function eM(e,t,r,n){t.annotationType_,n.value}function eD(e,t,r,n,o,i){void 0===i&&(i=t$.safeDescriptors),eM(e,t,r,n);var a,s=n.value;return rq(s)||(s=rk(s)),o&&((s=s.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0),{value:s,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function eF(e,t){return{annotationType_:e,options_:t,make_:eU,extend_:e$}}function eU(e,t,r){return null===this.extend_(e,t,r,!1)?0:1}function e$(e,t,r,n){return eK(e,this,t,r),e.defineComputedProperty_(t,es({},this.options_,{get:r.get,set:r.set}),n)}function eK(e,t,r,n){t.annotationType_,n.get}function eH(e,t){return{annotationType_:e,options_:t,make_:eG,extend_:eY}}function eG(e,t,r){return null===this.extend_(e,t,r,!1)?0:1}function eY(e,t,r,n){var o,i;return eQ(e,this,t,r),e.defineObservableProperty_(t,r.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:eT,n)}function eQ(e,t,r,n){t.annotationType_}var eX="true",eJ=eZ();function eZ(e){return{annotationType_:eX,options_:e,make_:e0,extend_:e1}}function e0(e,t,r,n){if(r.get)return th.make_(e,t,r,n);if(r.set){var o,i,a,s,l,u=tv(t.toString(),r.set);return n===e.target_?null===e.defineProperty_(t,{configurable:!t$.safeDescriptors||e.isPlainObject_,set:u})?0:2:(I(n,t,{configurable:!0,set:u}),2)}if(n!==e.target_&&"function"==typeof r.value)return H(r.value)?(null!=(s=this.options_)&&s.autoBind?rk.bound:rk).make_(e,t,r,n):(null!=(a=this.options_)&&a.autoBind?rd.bound:rd).make_(e,t,r,n);var c=(null==(o=this.options_)?void 0:o.deep)===!1?ts.ref:ts;return"function"==typeof r.value&&null!=(i=this.options_)&&i.autoBind&&(r.value=r.value.bind(null!=(l=e.proxy_)?l:e.target_)),c.make_(e,t,r,n)}function e1(e,t,r,n){var o,i,a;return r.get?th.extend_(e,t,r,n):r.set?e.defineProperty_(t,{configurable:!t$.safeDescriptors||e.isPlainObject_,set:tv(t.toString(),r.set)},n):("function"==typeof r.value&&null!=(o=this.options_)&&o.autoBind&&(r.value=r.value.bind(null!=(a=e.proxy_)?a:e.target_)),((null==(i=this.options_)?void 0:i.deep)===!1?ts.ref:ts).extend_(e,t,r,n))}var e2="observable",e3="observable.ref",e4="observable.shallow",e6="observable.struct",e8={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function e5(e){return e||e8}Object.freeze(e8);var e7=eH(e2),e9=eH(e3,{enhancer:eA}),te=eH(e4,{enhancer:eR}),tt=eH(e6,{enhancer:eP}),tr=ev(e7);function tn(e){return!0===e.deep?eT:!1===e.deep?eA:ti(e.defaultDecorator)}function to(e){var t;return e?null!=(t=e.defaultDecorator)?t:eZ(e):void 0}function ti(e){var t,r;return e&&null!=(t=null==(r=e.options_)?void 0:r.enhancer)?t:eT}function ta(e,t,r){if(U(t)){ey(e,t,e7);return}return rI(e)?e:K(e)?ts.object(e,t,r):Array.isArray(e)?ts.array(e,t):X(e)?ts.map(e,t):J(e)?ts.set(e,t):"object"==typeof e&&null!==e?e:ts.box(e,t)}q(ta,tr);var ts=q(ta,{box:function(e,t){var r=e5(t);return new tR(e,tn(r),r.name,!0,r.equals)},array:function(e,t){var r=e5(t);return(!1===t$.useProxies||!1===r.proxy?nS:r0)(e,tn(r),r.name)},map:function(e,t){var r=e5(t);return new nt(e,tn(r),r.name)},set:function(e,t){var r=e5(t);return new ni(e,tn(r),r.name)},object:function(e,t,r){return rT(!1===t$.useProxies||(null==r?void 0:r.proxy)===!1?nc({},r):rV({},r),e,t)},ref:ev(e9),shallow:ev(te),deep:tr,struct:ev(tt)}),tl="computed",tu="computed.struct",tc=eF(tl),td=eF(tu,{equals:eO.structural}),th=function(e,t){if(U(t))return ey(e,t,tc);if(K(e))return ev(eF(tl,e));var r=K(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new tP(r)};Object.assign(th,tc),th.struct=ev(td);var tf=0,t_=1,tb=null!=(e=null==(t=x(function(){},"name"))?void 0:t.configurable)&&e,tp={value:"action",configurable:!0,writable:!1,enumerable:!1};function tv(e,t,r,n){function o(){return ty(e,r,t,n||this,arguments)}return void 0===r&&(r=!1),o.isMobxAction=!0,tb&&(tp.value=e,I(o,"name",tp)),o}function ty(e,t,r,n,o){var i=tg(e,t,n,o);try{return r.apply(n,o)}catch(e){throw i.error_=e,e}finally{tm(i)}}function tg(e,t,r,n){var o=t$.trackingDerivation,i=!t||!o;tY();var a=t$.allowStateChanges;i&&(tL(),a=tS(!0));var s={runAsAction_:i,prevDerivation_:o,prevAllowStateChanges_:a,prevAllowStateReads_:tN(!0),notifySpy_:!1,startTime_:0,actionId_:t_++,parentActionId_:tf};return tf=s.actionId_,s}function tm(e){tf!==e.actionId_&&E(30),tf=e.parentActionId_,void 0!==e.error_&&(t$.suppressReactionErrors=!0),tO(e.prevAllowStateChanges_),tW(e.prevAllowStateReads_),tQ(),e.runAsAction_&&tz(e.prevDerivation_),t$.suppressReactionErrors=!1}function tw(e,t){var r=tS(e);try{return t()}finally{tO(r)}}function tS(e){var t=t$.allowStateChanges;return t$.allowStateChanges=e,t}function tO(e){t$.allowStateChanges=e}var tT="create";r=Symbol.toPrimitive;var tR=function(e){function t(t,r,n,o,i){var a;return void 0===n&&(n="ObservableValue"),void 0===o&&(o=!0),void 0===i&&(i=eO.default),(a=e.call(this,n)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=r,a.name_=n,a.equals=i,a.value_=r(t,void 0,n),a}el(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==t$.UNCHANGED&&(t5(),this.setNewValue_(e))},n.prepareNewValue_=function(e){if(rM(this)){var t=rF(this,{object:this,type:rQ,newValue:e});if(!t)return t$.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?t$.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),rU(this)&&rK(this,{type:rQ,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return rD(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:rQ,newValue:this.value_,oldValue:void 0}),r$(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return er(this.get())},n[r]=function(){return this.valueOf()},t}(em),tA=null;n=Symbol.toPrimitive;var tP=function(){function e(e){this.dependenciesState_=o.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=o.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new tE(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=i.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||E(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=tv("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?eO.structural:eO.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){t0(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing_&&E(32,this.name_,this.derivation),0!==t$.inBatch||0!==this.observers_.size||this.keepAlive_){if(tX(this),tC(this)){var e=t$.trackingContext;this.keepAlive_&&!e&&(t$.trackingContext=this),this.trackAndCompute()&&tZ(this),t$.trackingContext=e}}else tC(this)&&(this.warnAboutUntrackedRead_(),tY(),this.value_=this.computeValue_(!1),tQ());var t=this.value_;if(tk(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&E(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else E(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===o.NOT_TRACKING_,r=this.computeValue_(!0),n=t||tk(e)||tk(r)||!this.equals_(e,r);return n&&(this.value_=r),n},t.computeValue_=function(e){this.isComputing_=!0;var t,r=tS(!1);if(e)t=tq(this,this.derivation,this.scope_);else if(!0===t$.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new tE(e)}return tO(r),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(tI(this),this.value_=void 0)},t.observe_=function(e,t){var r=this,n=!0,o=void 0;return rf(function(){var i=r.get();if(!n||t){var a=tL();e({observableKind:"computed",debugObjectName:r.name_,type:rQ,object:r,newValue:i,oldValue:o}),tz(a)}n=!1,o=i})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return er(this.get())},t[n]=function(){return this.valueOf()},e}(),tj=Q("ComputedValue",tP);(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(i||(i={}));var tE=function(e){this.cause=void 0,this.cause=e};function tk(e){return e instanceof tE}function tC(e){switch(e.dependenciesState_){case o.UP_TO_DATE_:return!1;case o.NOT_TRACKING_:case o.STALE_:return!0;case o.POSSIBLY_STALE_:for(var t=tN(!0),r=tL(),n=e.observing_,i=n.length,a=0;a<i;a++){var s=n[a];if(tj(s)){if(t$.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return tz(r),tW(t),!0}if(e.dependenciesState_===o.STALE_)return tz(r),tW(t),!0}}return tV(e),tz(r),tW(t),!1}}function tq(e,t,r){var n,o=tN(!0);tV(e),e.newObserving_=Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++t$.runId;var i=t$.trackingDerivation;if(t$.trackingDerivation=e,t$.inBatch++,!0===t$.disableErrorBoundaries)n=t.call(r);else try{n=t.call(r)}catch(e){n=new tE(e)}return t$.inBatch--,t$.trackingDerivation=i,tx(e),tW(o),n}function tx(e){for(var t=e.observing_,r=e.observing_=e.newObserving_,n=o.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,s=0;s<a;s++){var l=r[s];0===l.diffValue_&&(l.diffValue_=1,i!==s&&(r[i]=l),i++),l.dependenciesState_>n&&(n=l.dependenciesState_)}for(r.length=i,e.newObserving_=null,a=t.length;a--;){var u=t[a];0===u.diffValue_&&tH(u,e),u.diffValue_=0}for(;i--;){var c=r[i];1===c.diffValue_&&(c.diffValue_=0,tK(c,e))}n!==o.UP_TO_DATE_&&(e.dependenciesState_=n,e.onBecomeStale_())}function tI(e){var t=e.observing_;e.observing_=[];for(var r=t.length;r--;)tH(t[r],e);e.dependenciesState_=o.NOT_TRACKING_}function tB(e){var t=tL();try{return e()}finally{tz(t)}}function tL(){var e=t$.trackingDerivation;return t$.trackingDerivation=null,e}function tz(e){t$.trackingDerivation=e}function tN(e){var t=t$.allowStateReads;return t$.allowStateReads=e,t}function tW(e){t$.allowStateReads=e}function tV(e){if(e.dependenciesState_!==o.UP_TO_DATE_){e.dependenciesState_=o.UP_TO_DATE_;for(var t=e.observing_,r=t.length;r--;)t[r].lowestObserverState_=o.UP_TO_DATE_}}var tM=null,tD=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},tF=!0,tU=!1,t$=function(){var e=C();return(e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(tF=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new tD().version&&(tF=!1),tF)?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new tD):(setTimeout(function(){tU||E(35)},1),new tD)}();function tK(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function tH(e,t){e.observers_.delete(t),0===e.observers_.size&&tG(e)}function tG(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,t$.pendingUnobservations.push(e))}function tY(){t$.inBatch++}function tQ(){if(0==--t$.inBatch){t4();for(var e=t$.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation_=!1,0===r.observers_.size&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof tP&&r.suspend_())}t$.pendingUnobservations=[]}}function tX(e){var t=t$.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&t$.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&t$.inBatch>0&&tG(e),!1)}function tJ(e){e.lowestObserverState_!==o.STALE_&&(e.lowestObserverState_=o.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===o.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=o.STALE_}))}function tZ(e){e.lowestObserverState_!==o.STALE_&&(e.lowestObserverState_=o.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===o.POSSIBLY_STALE_?t.dependenciesState_=o.STALE_:t.dependenciesState_===o.UP_TO_DATE_&&(e.lowestObserverState_=o.UP_TO_DATE_)}))}function t0(e){e.lowestObserverState_===o.UP_TO_DATE_&&(e.lowestObserverState_=o.POSSIBLY_STALE_,e.observers_.forEach(function(e){e.dependenciesState_===o.UP_TO_DATE_&&(e.dependenciesState_=o.POSSIBLY_STALE_,e.onBecomeStale_())}))}var t1=function(){function e(e,t,r,n){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=o.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=i.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=r,this.requiresObservable_=n}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,t$.pendingReactions.push(this),t4())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){tY(),this.isScheduled_=!1;var e=t$.trackingContext;if(t$.trackingContext=this,tC(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}t$.trackingContext=e,tQ()}},t.track=function(e){if(!this.isDisposed_){tY(),t5(),this.isRunning_=!0;var t=t$.trackingContext;t$.trackingContext=this;var r=tq(this,e,void 0);t$.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&tI(this),tk(r)&&this.reportExceptionInDerivation_(r.cause),tQ()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_){this.errorHandler_(e,this);return}if(t$.disableErrorBoundaries)throw e;t$.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",e),t$.globalReactionErrorHandlers.forEach(function(r){return r(e,t)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(tY(),tI(this),tQ()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[eg]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),rB(this,e)},e}(),t2=100,t3=function(e){return e()};function t4(){t$.inBatch>0||t$.isRunningReactions||t3(t6)}function t6(){t$.isRunningReactions=!0;for(var e=t$.pendingReactions,t=0;e.length>0;){++t===t2&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction_()}t$.isRunningReactions=!1}var t8=Q("Reaction",t1);function t5(){return!1}var t7={type:"report-end",spyReportEnd:!0};function t9(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var re="action",rt="action.bound",rr="autoAction",rn="autoAction.bound",ro="<unnamed action>",ri=ex(re),ra=ex(rt,{bound:!0}),rs=ex(rr,{autoAction:!0}),rl=ex(rn,{autoAction:!0,bound:!0});function ru(e){return function(t,r){return F(t)?tv(t.name||ro,t,e):F(r)?tv(t,r,e):U(r)?ey(t,r,e?rs:ri):U(t)?ev(ex(e?rr:re,{name:t,autoAction:e})):void 0}}var rc=ru(!1);Object.assign(rc,ri);var rd=ru(!0);function rh(e){return F(e)&&!0===e.isMobxAction}function rf(e,t){void 0===t&&(t=z);var r,n,o,i=null!=(r=null==(n=t)?void 0:n.name)?r:"Autorun";if(t.scheduler||t.delay){var a=rb(t),s=!1;o=new t1(i,function(){s||(s=!0,a(function(){s=!1,o.isDisposed_||o.track(l)}))},t.onError,t.requiresObservable)}else o=new t1(i,function(){this.track(l)},t.onError,t.requiresObservable);function l(){e(o)}return o.schedule_(),o.getDisposer_()}Object.assign(rd,rs),rc.bound=ev(ra),rd.bound=ev(rl);var r_=function(e){return e()};function rb(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:r_}var rp="onBO",rv="onBUO";function ry(e,t,r){return rm(rp,e,t,r)}function rg(e,t,r){return rm(rv,e,t,r)}function rm(e,t,r,n){var o="function"==typeof n?nO(t,r):nO(t),i=F(n)?n:r,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}var rw="never",rS="always",rO="observed";function rT(e,t,r,n){var o=eo(t),i=nc(e,n)[eg];tY();try{et(o).forEach(function(e){i.extend_(e,o[e],!r||!(e in r)||r[e])})}finally{tQ()}return e}function rR(e){return Array.from(new Set(e))}var rA=0;function rP(){this.message="FLOW_CANCELLED"}rP.prototype=Object.create(Error.prototype);var rj=eN("flow"),rE=eN("flow.bound",{bound:!0}),rk=Object.assign(function(e,t){if(U(t))return ey(e,t,rj);var r=e.name||"<unnamed flow>",n=function(){var t,n=arguments,o=++rA,i=rc(r+" - runid: "+o+" - init",e).apply(this,n),a=void 0,s=new Promise(function(e,n){var s=0;function l(e){var t;a=void 0;try{t=rc(r+" - runid: "+o+" - yield "+s++,i.next).call(i,e)}catch(e){return n(e)}c(t)}function u(e){var t;a=void 0;try{t=rc(r+" - runid: "+o+" - yield "+s++,i.throw).call(i,e)}catch(e){return n(e)}c(t)}function c(t){if(F(null==t?void 0:t.then)){t.then(c,n);return}return t.done?e(t.value):(a=Promise.resolve(t.value)).then(l,u)}t=n,l(void 0)});return s.cancel=rc(r+" - runid: "+o+" - cancel",function(){try{a&&rC(a);var e=i.return(void 0),r=Promise.resolve(e.value);r.then(D,D),rC(r),t(new rP)}catch(e){t(e)}}),s};return n.isMobXFlow=!0,n},rj);function rC(e){F(e.cancel)&&e.cancel()}function rq(e){return(null==e?void 0:e.isMobXFlow)===!0}function rx(e,t){return!!e&&(void 0!==t?!!nf(e)&&e[eg].values_.has(t):nf(e)||!!e[eg]||ew(e)||t8(e)||tj(e))}function rI(e){return rx(e)}rk.bound=ev(rE);function rB(){E("trace() is not available in production builds");for(var e=!1,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];"boolean"==typeof r[r.length-1]&&(e=r.pop());var o=rL(r);if(!o)return E("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===i.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?i.BREAK:i.LOG}function rL(e){switch(e.length){case 0:return t$.trackingDerivation;case 1:return nO(e[0]);case 2:return nO(e[0],e[1])}}function rz(e,t){void 0===t&&(t=void 0),tY();try{return e.apply(t)}finally{tQ()}}function rN(e){return e[eg]}var rW={has:function(e,t){return rN(e).has_(t)},get:function(e,t){return rN(e).get_(t)},set:function(e,t,r){var n;return!!U(t)&&(null==(n=rN(e).set_(t,r,!0))||n)},deleteProperty:function(e,t){var r;return!!U(t)&&(null==(r=rN(e).delete_(t,!0))||r)},defineProperty:function(e,t,r){var n;return null==(n=rN(e).defineProperty_(t,r))||n},ownKeys:function(e){return rN(e).ownKeys_()},preventExtensions:function(e){E(13)}};function rV(e,t){var r,n;return V(),null!=(n=(r=(e=nc(e,t))[eg]).proxy_)?n:r.proxy_=new Proxy(e,rW)}function rM(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function rD(e,t){var r=e.interceptors_||(e.interceptors_=[]);return r.push(t),M(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function rF(e,t){var r=tL();try{for(var n=[].concat(e.interceptors_||[]),o=0,i=n.length;o<i&&((t=n[o](t))&&!t.type&&E(14),t);o++);return t}finally{tz(r)}}function rU(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function r$(e,t){var r=e.changeListeners_||(e.changeListeners_=[]);return r.push(t),M(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function rK(e,t){var r=tL(),n=e.changeListeners_;if(n){n=n.slice();for(var o=0,i=n.length;o<i;o++)n[o](t);tz(r)}}var rH=Symbol("mobx-keys");function rG(e,t,r){if(K(e))return rT(e,e,t,r);var n=nc(e,r)[eg];if(!e[rH]){var o=Object.getPrototypeOf(e),i=new Set([].concat(et(e),et(o)));i.delete("constructor"),i.delete(eg),G(o,rH,i)}tY();try{e[rH].forEach(function(e){return n.make_(e,!t||!(e in t)||t[e])})}finally{tQ()}return e}var rY="splice",rQ="update",rX=1e4,rJ={get:function(e,t){var r=e[eg];return t===eg?r:"length"===t?r.getArrayLength_():"string"!=typeof t||isNaN(t)?en(r1,t)?r1[t]:e[t]:r.get_(parseInt(t))},set:function(e,t,r){var n=e[eg];return"length"===t&&n.setArrayLength_(r),"symbol"==typeof t||isNaN(t)?e[t]=r:n.set_(parseInt(t),r),!0},preventExtensions:function(){E(15)}},rZ=function(){function e(e,t,r,n){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=n,this.atom_=new em(e),this.enhancer_=function(e,r){return t(e,r,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return rD(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),r$(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&E("Out of range: "+e);var t=this.values_.length;if(e!==t){if(e>t){for(var r=Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray_(t,0,r)}else this.spliceWithArray_(e,t-e)}},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&E(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&nw(e+t+1)},t.spliceWithArray_=function(e,t,r){var n=this;this.atom_;var o=this.values_.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1==arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===r&&(r=L),rM(this)){var i=rF(this,{object:this.proxy_,type:rY,index:e,removedCount:t,added:r});if(!i)return L;t=i.removedCount,r=i.added}if(r=0===r.length?r:r.map(function(e){return n.enhancer_(e,void 0)}),this.legacyMode_){var a=r.length-t;this.updateArrayLength_(o,a)}var s=this.spliceItemsIntoValues_(e,t,r);return(0!==t||0!==r.length)&&this.notifyArraySplice_(e,r,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,r){if(r.length<rX){var n;return(n=this.values_).splice.apply(n,[e,t].concat(r))}var o=this.values_.slice(e,e+t),i=this.values_.slice(e+t);this.values_.length+=r.length-t;for(var a=0;a<r.length;a++)this.values_[e+a]=r[a];for(var s=0;s<i.length;s++)this.values_[e+r.length+s]=i[s];return o},t.notifyArrayChildUpdate_=function(e,t,r){var n=!this.owned_&&t5(),o=rU(this),i=o||n?{observableKind:"array",object:this.proxy_,type:rQ,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:r}:null;this.atom_.reportChanged(),o&&rK(this,i)},t.notifyArraySplice_=function(e,t,r){var n=!this.owned_&&t5(),o=rU(this),i=o||n?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:rY,index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;this.atom_.reportChanged(),o&&rK(this,i)},t.get_=function(e){if(this.legacyMode_&&e>=this.values_.length){console.warn("[mobx] Out of bounds read: "+e);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e])},t.set_=function(e,t){var r=this.values_;if(this.legacyMode_&&e>r.length&&E(17,e,r.length),e<r.length){this.atom_;var n=r[e];if(rM(this)){var o=rF(this,{type:rQ,object:this.proxy_,index:e,newValue:t});if(!o)return;t=o.newValue}(t=this.enhancer_(t,n))!==n&&(r[e]=t,this.notifyArrayChildUpdate_(e,t,n))}else{for(var i=Array(e+1-r.length),a=0;a<i.length-1;a++)i[a]=void 0;i[i.length-1]=t,this.spliceWithArray_(r.length,0,i)}},e}();function r0(e,t,r,n){void 0===r&&(r="ObservableArray"),void 0===n&&(n=!1),V();var o=new rZ(r,t,n,!1);Y(o.values_,eg,o);var i=new Proxy(o.values_,rJ);if(o.proxy_=i,e&&e.length){var a=tS(!0);o.spliceWithArray_(0,0,e),tO(a)}return i}var r1={clear:function(){return this.splice(0)},replace:function(e){var t=this[eg];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=this[eg];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(e);case 2:return i.spliceWithArray_(e,t)}return i.spliceWithArray_(e,t,n)},spliceWithArray:function(e,t,r){return this[eg].spliceWithArray_(e,t,r)},push:function(){for(var e=this[eg],t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[eg].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[eg],t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return t$.trackingDerivation&&E(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){t$.trackingDerivation&&E(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[eg],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1&&(this.splice(r,1),!0)}};function r2(e,t){"function"==typeof Array.prototype[e]&&(r1[e]=t(e))}function r3(e){return function(){var t=this[eg];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_);return r[e].apply(r,arguments)}}function r4(e){return function(t,r){var n=this,o=this[eg];return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e](function(e,o){return t.call(r,e,o,n)})}}function r6(e){return function(){var t=this,r=this[eg];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),o=arguments[0];return arguments[0]=function(e,r,n){return o(e,r,n,t)},n[e].apply(n,arguments)}}r2("concat",r3),r2("flat",r3),r2("includes",r3),r2("indexOf",r3),r2("join",r3),r2("lastIndexOf",r3),r2("slice",r3),r2("toString",r3),r2("toLocaleString",r3),r2("every",r4),r2("filter",r4),r2("find",r4),r2("findIndex",r4),r2("flatMap",r4),r2("forEach",r4),r2("map",r4),r2("some",r4),r2("reduce",r6),r2("reduceRight",r6);var r8=Q("ObservableArrayAdministration",rZ);function r5(e){return $(e)&&r8(e[eg])}var r7={},r9="add",ne="delete";a=Symbol.iterator,u=Symbol.toStringTag;var nt=function(){function e(e,t,r){var n=this;void 0===t&&(t=eT),void 0===r&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[eg]=r7,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=r,F(Map)||E(18),this.keysAtom_=eS("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,tw(!0,function(){n.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!t$.trackingDerivation)return this.has_(e);var r=this.hasMap_.get(e);if(!r){var n=r=new tR(this.has_(e),eA,"ObservableMap.key?",!1);this.hasMap_.set(e,n),rg(n,function(){return t.hasMap_.delete(e)})}return r.get()},t.set=function(e,t){var r=this.has_(e);if(rM(this)){var n=rF(this,{type:r?rQ:r9,object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,rM(this)&&!rF(this,{type:ne,object:this,name:e}))return!1;if(this.has_(e)){var r=t5(),n=rU(this),o=n||r?{observableKind:"map",debugObjectName:this.name_,type:ne,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return rz(function(){var r;t.keysAtom_.reportChanged(),null==(r=t.hasMap_.get(e))||r.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&rK(this,o),!0}return!1},t.updateValue_=function(e,t){var r=this.data_.get(e);if((t=r.prepareNewValue_(t))!==t$.UNCHANGED){var n=t5(),o=rU(this),i=o||n?{observableKind:"map",debugObjectName:this.name_,type:rQ,object:this,oldValue:r.value_,name:e,newValue:t}:null;r.setNewValue_(t),o&&rK(this,i)}},t.addValue_=function(e,t){var r=this;this.keysAtom_,rz(function(){var n,o=new tR(t,r.enhancer_,"ObservableMap.key",!1);r.data_.set(e,o),t=o.value_,null==(n=r.hasMap_.get(e))||n.setNewValue_(!0),r.keysAtom_.reportChanged()});var n=t5(),o=rU(this),i=o||n?{observableKind:"map",debugObjectName:this.name_,type:r9,object:this,name:e,newValue:t}:null;o&&rK(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return nk({next:function(){var r=t.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:e.get(o)}}})},t.entries=function(){var e=this,t=this.keys();return nk({next:function(){var r=t.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:[o,e.get(o)]}}})},t[a]=function(){return this.entries()},t.forEach=function(e,t){for(var r,n=ef(this);!(r=n()).done;){var o=r.value,i=o[0],a=o[1];e.call(t,a,i,this)}},t.merge=function(e){var t=this;return nr(e)&&(e=new Map(e)),rz(function(){K(e)?ee(e).forEach(function(r){return t.set(r,e[r])}):Array.isArray(e)?e.forEach(function(e){var r=e[0],n=e[1];return t.set(r,n)}):X(e)?(e.constructor!==Map&&E(19,e),e.forEach(function(e,r){return t.set(r,e)})):null!=e&&E(20,e)}),this},t.clear=function(){var e=this;rz(function(){tB(function(){for(var t,r=ef(e.keys());!(t=r()).done;){var n=t.value;e.delete(n)}})})},t.replace=function(e){var t=this;return rz(function(){for(var r,n=nn(e),o=new Map,i=!1,a=ef(t.data_.keys());!(r=a()).done;){var s=r.value;if(!n.has(s)){if(t.delete(s))i=!0;else{var l=t.data_.get(s);o.set(s,l)}}}for(var u,c=ef(n.entries());!(u=c()).done;){var d=u.value,h=d[0],f=d[1],_=t.data_.has(h);if(t.set(h,f),t.data_.has(h)){var b=t.data_.get(h);o.set(h,b),_||(i=!0)}}if(!i){if(t.data_.size!==o.size)t.keysAtom_.reportChanged();else for(var p=t.data_.keys(),v=o.keys(),y=p.next(),g=v.next();!y.done;){if(y.value!==g.value){t.keysAtom_.reportChanged();break}y=p.next(),g=v.next()}}t.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return r$(this,e)},t.intercept_=function(e){return rD(this,e)},ea(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:u,get:function(){return"Map"}}]),e}(),nr=Q("ObservableMap",nt);function nn(e){if(X(e)||nr(e))return e;if(Array.isArray(e))return new Map(e);if(!K(e))return E(21,e);var t=new Map;for(var r in e)t.set(r,e[r]);return t}var no={};c=Symbol.iterator,d=Symbol.toStringTag;var ni=function(){function e(e,t,r){void 0===t&&(t=eT),void 0===r&&(r="ObservableSet"),this.name_=void 0,this[eg]=no,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,F(Set)||E(22),this.atom_=eS(this.name_),this.enhancer_=function(e,n){return t(e,n,r)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;rz(function(){tB(function(){for(var t,r=ef(e.data_.values());!(t=r()).done;){var n=t.value;e.delete(n)}})})},t.forEach=function(e,t){for(var r,n=ef(this);!(r=n()).done;){var o=r.value;e.call(t,o,o,this)}},t.add=function(e){var t=this;if(this.atom_,rM(this)&&!rF(this,{type:r9,object:this,newValue:e}))return this;if(!this.has(e)){rz(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var r=rU(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:r9,object:this,newValue:e}:null;r&&rK(this,n)}return this},t.delete=function(e){var t=this;if(rM(this)&&!rF(this,{type:ne,object:this,oldValue:e}))return!1;if(this.has(e)){var r=rU(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:ne,object:this,oldValue:e}:null;return rz(function(){t.atom_.reportChanged(),t.data_.delete(e)}),r&&rK(this,n),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),r=Array.from(this.values());return nk({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,r=Array.from(this.data_.values());return nk({next:function(){return t<r.length?{value:e.dehanceValue_(r[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return na(e)&&(e=new Set(e)),rz(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):J(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&E("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return r$(this,e)},t.intercept_=function(e){return rD(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[c]=function(){return this.values()},ea(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:d,get:function(){return"Set"}}]),e}(),na=Q("ObservableSet",ni),ns=Object.create(null),nl="remove",nu=function(){function e(e,t,r,n){void 0===t&&(t=new Map),void 0===n&&(n=eJ),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=r,this.defaultAnnotation_=n,this.keysAtom_=new em("ObservableObject.keys"),this.isPlainObject_=K(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var r=this.values_.get(e);if(r instanceof tP)return r.set(t),!0;if(rM(this)){var n=rF(this,{type:rQ,object:this.proxy_||this.target_,name:e,newValue:t});if(!n)return null;t=n.newValue}if((t=r.prepareNewValue_(t))!==t$.UNCHANGED){var o=rU(this),i=o?{type:rQ,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:e,newValue:t}:null;r.setNewValue_(t),o&&rK(this,i)}return!0},t.get_=function(e){return t$.trackingDerivation&&!en(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,r){return(void 0===r&&(r=!1),en(this.target_,e))?this.values_.has(e)?this.setObservablePropValue_(e,t):r?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function(e){if(!t$.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new tR(e in this.target_,eA,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var r;if(null!=(r=this.target_[ep])&&r[e])return;E(1,t.annotationType_,this.name_+"."+e.toString())}for(var n=this.target_;n&&n!==B;){var o=x(n,e);if(o){var i=t.make_(this,e,o,n);if(0===i)return;if(1===i)break}n=Object.getPrototypeOf(n)}n_(this,t,e)}},t.extend_=function(e,t,r,n){if(void 0===n&&(n=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(e,t,n);var o=r.extend_(this,e,t,n);return o&&n_(this,r,e),o},t.defineProperty_=function(e,t,r){void 0===r&&(r=!1);try{tY();var n=this.delete_(e);if(!n)return n;if(rM(this)){var o=rF(this,{object:this.proxy_||this.target_,name:e,type:r9,newValue:t.value});if(!o)return null;var i=o.newValue;t.value!==i&&(t=es({},t,{value:i}))}if(r){if(!Reflect.defineProperty(this.target_,e,t))return!1}else I(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{tQ()}return!0},t.defineObservableProperty_=function(e,t,r,n){void 0===n&&(n=!1);try{tY();var o=this.delete_(e);if(!o)return o;if(rM(this)){var i=rF(this,{object:this.proxy_||this.target_,name:e,type:r9,newValue:t});if(!i)return null;t=i.newValue}var a=nh(e),s={configurable:!t$.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(n){if(!Reflect.defineProperty(this.target_,e,s))return!1}else I(this.target_,e,s);var l=new tR(t,r,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{tQ()}return!0},t.defineComputedProperty_=function(e,t,r){void 0===r&&(r=!1);try{tY();var n=this.delete_(e);if(!n)return n;if(rM(this)&&!rF(this,{object:this.proxy_||this.target_,name:e,type:r9,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var o=nh(e),i={configurable:!t$.safeDescriptors||this.isPlainObject_,enumerable:!1,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,i))return!1}else I(this.target_,e,i);this.values_.set(e,new tP(t)),this.notifyPropertyAddition_(e,void 0)}finally{tQ()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!en(this.target_,e))return!0;if(rM(this)&&!rF(this,{object:this.proxy_||this.target_,name:e,type:nl}))return null;try{tY();var r,n,o,i=rU(this),a=this.values_.get(e),s=void 0;if(!a&&i&&(s=null==(o=x(this.target_,e))?void 0:o.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof tR&&(s=a.value_),tJ(a)),this.keysAtom_.reportChanged(),null==(r=this.pendingKeys_)||null==(n=r.get(e))||n.set(e in this.target_),i){var l={type:nl,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};i&&rK(this,l)}}finally{tQ()}return!0},t.observe_=function(e,t){return r$(this,e)},t.intercept_=function(e){return rD(this,e)},t.notifyPropertyAddition_=function(e,t){var r,n,o=rU(this);if(o){var i=o?{type:r9,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;o&&rK(this,i)}null==(r=this.pendingKeys_)||null==(n=r.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),et(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function nc(e,t){if(en(e,eg))return e;var r,n=null!=(r=null==t?void 0:t.name)?r:"ObservableObject",o=new nu(e,new Map,String(n),to(t));return G(e,eg,o),e}var nd=Q("ObservableObjectAdministration",nu);function nh(e){return ns[e]||(ns[e]={get:function(){return this[eg].getObservablePropValue_(e)},set:function(t){return this[eg].setObservablePropValue_(e,t)}})}function nf(e){return!!$(e)&&nd(e[eg])}function n_(e,t,r){var n;null==(n=e.target_[ep])||delete n[r]}var nb=ng(0),np=0,nv=function(){};(function(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t})(nv,Array.prototype);var ny=function(e,t,r){function n(t,r,n,o){void 0===n&&(n="ObservableArray"),void 0===o&&(o=!1),i=e.call(this)||this;var i,a=new rZ(n,r,o,!0);if(a.proxy_=ec(i),Y(ec(i),eg,a),t&&t.length){var s=tS(!0);i.spliceWithArray(0,0,t),tO(s)}return Object.defineProperty(ec(i),"0",nb),i}el(n,e);var o=n.prototype;return o.concat=function(){this[eg].atom_.reportObserved();for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return r5(e)?e.slice():e}))},o[r]=function(){var e=this,t=0;return nk({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},ea(n,[{key:"length",get:function(){return this[eg].getArrayLength_()},set:function(e){this[eg].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),n}(nv,Symbol.toStringTag,Symbol.iterator);function ng(e){return{enumerable:!1,configurable:!0,get:function(){return this[eg].get_(e)},set:function(t){this[eg].set_(e,t)}}}function nm(e){I(ny.prototype,""+e,ng(e))}function nw(e){if(e>np){for(var t=np;t<e+100;t++)nm(t);np=e}}function nS(e,t,r){return new ny(e,t,r)}function nO(e,t){if("object"==typeof e&&null!==e){if(r5(e))return void 0!==t&&E(23),e[eg].atom_;if(na(e))return e.atom_;if(nr(e)){if(void 0===t)return e.keysAtom_;var r=e.data_.get(t)||e.hasMap_.get(t);return r||E(25,t,nR(e)),r}if(nf(e)){if(!t)return E(26);var n=e[eg].values_.get(t);return n||E(27,t,nR(e)),n}if(ew(e)||tj(e)||t8(e))return e}else if(F(e)&&t8(e[eg]))return e[eg];E(28)}function nT(e,t){return(e||E(29),void 0!==t)?nT(nO(e,t)):ew(e)||tj(e)||t8(e)||nr(e)||na(e)?e:e[eg]?e[eg]:void E(24,e)}function nR(e,t){var r;if(void 0!==t)r=nO(e,t);else{if(rh(e))return e.name;r=nf(e)||nr(e)||na(e)?nT(e):nO(e)}return r.name_}Object.entries(r1).forEach(function(e){var t=e[0],r=e[1];"concat"!==t&&G(ny.prototype,t,r)}),nw(1e3);var nA=B.toString;function nP(e,t,r){return void 0===r&&(r=-1),nj(e,t,r)}function nj(e,t,r,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=nA.call(e);if(a!==nA.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!=+e)return+t!=+t;return 0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":r>=0&&r++}e=nE(e),t=nE(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(F(l)&&l instanceof l&&F(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===r)return!1;r<0&&(r=-1),o=o||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return o[c]===t;if(n.push(e),o.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!nj(e[c],t[c],r-1,n,o))return!1}else{var d,h=Object.keys(e);if(c=h.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!(en(t,d=h[c])&&nj(e[d],t[d],r-1,n,o)))return!1}return n.pop(),o.pop(),!0}function nE(e){return r5(e)?e.slice():X(e)||nr(e)||J(e)||na(e)?Array.from(e.entries()):e}function nk(e){return e[Symbol.iterator]=nC,e}function nC(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===C()[e]&&E("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:t9,extras:{getDebugName:nR},$mobx:eg});let nq=rG({value:null}),nx=class extends O.ToolbarButtonProvider{constructor(e,t,r){super(),this.profile=t,this.notification=r,e.ready$.subscribe(()=>{this.launchProfile(!1)})}launchProfile(e){nq.value?this.profile.openNewTabForProfile({type:"adb",name:"Shell"}):e&&this.notification.error("Please connect your device first")}provide(){return[{icon:s(/*! ./icons/plus.svg */902),title:"New tab",click:()=>{this.launchProfile(!0)}}]}};nx.ctorParameters=()=>[{type:O.AppService},{type:O.ProfilesService},{type:O.NotificationsService}],nx=b([(0,m.Injectable)(),p("design:paramtypes",[O.AppService,O.ProfilesService,O.NotificationsService])],nx),Symbol("struct-value");let nI={reject:e=>new nz(e),resolve:e=>"object"!=typeof e||null===e||"function"!=typeof e.then?new nL(e):e instanceof nB||e instanceof nL||e instanceof nz?e:new nB(e),try(e){try{return nI.resolve(e())}catch(e){return nI.reject(e)}}};class nB{promise;constructor(e){this.promise=e}then(e,t){return new nB(this.promise.then(e,t))}valueOrPromise(){return this.promise}}class nL{value;constructor(e){this.value=e}then(e){return e?nI.try(()=>e(this.value)):this}valueOrPromise(){return this.value}}class nz{reason;constructor(e){this.reason=e}then(e,t){return t?nI.try(()=>t(this.reason)):this}valueOrPromise(){throw this.reason}}function nN(e,t,r){let n=Number(!!r),o=Number(!r);return BigInt(e.getInt32(t,r)*o+e.getInt32(t+4,r)*n)<<32n|BigInt(e.getUint32(t,r)*n+e.getUint32(t+4,r)*o)}function nW(e,t,r){let n=e.getUint32(t,r),o=e.getUint32(t+4,r),i=Number(!!r),a=Number(!r);return BigInt(n*a+o*i)<<32n|BigInt(n*i+o*a)}function nV(e,t,r,n){let o=Number(r>>32n),i=Number(BigInt.asUintN(32,r));n?(e.setInt32(t+4,o,n),e.setUint32(t,i,n)):(e.setInt32(t,o,n),e.setUint32(t+4,i,n))}function nM(e,t,r,n){let o=Number(r>>32n),i=Number(BigInt.asUintN(32,r));n?(e.setUint32(t+4,o,n),e.setUint32(t,i,n)):(e.setUint32(t,o,n),e.setUint32(t+4,i,n))}let nD="getBigInt64"in DataView.prototype?(e,t,r)=>e.getBigInt64(t,r):nN,nF="getBigUint64"in DataView.prototype?(e,t,r)=>e.getBigUint64(t,r):nW,nU="setBigInt64"in DataView.prototype?(e,t,r,n)=>e.setBigInt64(t,r,n):nV,n$="setBigUint64"in DataView.prototype?(e,t,r,n)=>e.setBigUint64(t,r,n):nM;class nK{TTypeScriptType;size;getter;setter;constructor(e,t,r){this.size=e,this.getter=t,this.setter=r}static Int64=new nK(8,nD,nU);static Uint64=new nK(8,nF,n$)}let{TextEncoder:nH,TextDecoder:nG}=globalThis,nY=new nH,nQ=new nG;function nX(e){return nY.encode(e)}function nJ(e){return nQ.decode(e)}class nZ{TTypeScriptType}class n0 extends nZ{static Instance=new n0;constructor(){super()}toBuffer(e){return e}toValue(e){return e}getSize(e){return e.byteLength}}class n1 extends nZ{static Instance=new n1;toBuffer(e){return nX(e)}toValue(e){return nJ(e)}getSize(){return -1}}new Uint8Array(0),function(e){e.Uint8={signed:!1,size:1,deserialize:e=>e[0],serialize(e,t,r){e.setUint8(t,r)}},e.Int8={signed:!0,size:1,deserialize(t){let r=e.Uint8.deserialize(t,!1);return r<<24>>24},serialize(e,t,r){e.setInt8(t,r)}},e.Uint16={signed:!1,size:2,deserialize:(e,t)=>(e[1]<<8|e[0])*t|(e[0]<<8|e[1])*!t,serialize(e,t,r,n){e.setUint16(t,r,n)}},e.Int16={signed:!0,size:2,deserialize(t,r){let n=e.Uint16.deserialize(t,r);return n<<16>>16},serialize(e,t,r,n){e.setInt16(t,r,n)}},e.Uint32={signed:!1,size:4,deserialize(t,r){let n=e.Int32.deserialize(t,r);return n>>>0},serialize(e,t,r,n){e.setUint32(t,r,n)}},e.Int32={signed:!0,size:4,deserialize:(e,t)=>(e[3]<<24|e[2]<<16|e[1]<<8|e[0])*t|(e[0]<<24|e[1]<<16|e[2]<<8|e[3])*!t,serialize(e,t,r,n){e.setInt32(t,r,n)}}}(h=h||(h={}));var n2=function(){function e(){var e=this;this._state="running",this.resolve=function(t){e._resolve(t),e._state="resolved"},this.reject=function(t){e._reject(t),e._state="rejected"},this._promise=new Promise(function(t,r){e._resolve=t,e._reject=r})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e}(),n3=function(){function e(e){void 0===e&&(e=0),this.pendingResolvers=new Map,this.nextId=e}return e.prototype.add=function(){var e=this.nextId++,t=new n2;return this.pendingResolvers.set(e,t),[e,t.promise]},e.prototype.getResolver=function(e){if(!this.pendingResolvers.has(e))return null;var t=this.pendingResolvers.get(e);return this.pendingResolvers.delete(e),t},e.prototype.resolve=function(e,t){var r=this.getResolver(e);return null!==r&&(r.resolve(t),!0)},e.prototype.reject=function(e,t){var r=this.getResolver(e);return null!==r&&(r.reject(t),!0)},e}();/**
 * @license
 * web-streams-polyfill v4.0.0-beta.3
 * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */let n4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function n6(){}function n8(e){return"object"==typeof e&&null!==e||"function"==typeof e}function n5(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}let n7=Promise,n9=Promise.prototype.then,oe=Promise.resolve.bind(n7),ot=Promise.reject.bind(n7);function or(e){return new n7(e)}function on(e){return oe(e)}function oo(e){return ot(e)}function oi(e,t,r){return n9.call(e,t,r)}function oa(e,t,r){oi(oi(e,t,r),void 0,n6)}function os(e,t){oa(e,t)}function ol(e,t){oa(e,void 0,t)}function ou(e,t,r){return oi(e,t,r)}function oc(e){oi(e,void 0,n6)}let od=e=>{if("function"==typeof queueMicrotask)od=queueMicrotask;else{let e=on(void 0);od=t=>oi(e,t)}return od(e)};function oh(e,t,r){if("function"!=typeof e)throw TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function of(e,t,r){try{return on(oh(e,t,r))}catch(e){return oo(e)}}class o_{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,n=r+1,o=e._elements,i=o[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[r]=void 0,i}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(n=(r=r._next)._elements,t=0,0===n.length));)e(n[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}}let ob=n4("[[AbortSteps]]"),op=n4("[[ErrorSteps]]"),ov=n4("[[CancelSteps]]"),oy=n4("[[PullSteps]]"),og=n4("[[ReleaseSteps]]");function om(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?oT(e):"closed"===t._state?(oT(e),oP(e)):oR(e,t._storedError)}function ow(e,t){return ax(e._ownerReadableStream,t)}function oS(e){let t=e._ownerReadableStream;"readable"===t._state?oA(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):oR(e,TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[og](),t._reader=void 0,e._ownerReadableStream=void 0}function oO(e){return TypeError("Cannot "+e+" a stream using a released reader")}function oT(e){e._closedPromise=or((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function oR(e,t){oT(e),oA(e,t)}function oA(e,t){void 0!==e._closedPromise_reject&&(oc(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function oP(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let oj=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},oE=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function ok(e,t){var r;if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw TypeError(`${t} is not an object.`)}function oC(e,t){if("function"!=typeof e)throw TypeError(`${t} is not a function.`)}function oq(e,t){if(!("object"==typeof e&&null!==e||"function"==typeof e))throw TypeError(`${t} is not an object.`)}function ox(e,t,r){if(void 0===e)throw TypeError(`Parameter ${t} is required in '${r}'.`)}function oI(e,t,r){if(void 0===e)throw TypeError(`${t} is required in '${r}'.`)}function oB(e){return Number(e)}function oL(e){return 0===e?0:e}function oz(e,t){let r=Number.MAX_SAFE_INTEGER,n=Number(e);if(!oj(n=oL(n)))throw TypeError(`${t} is not a finite number`);if((n=oL(oE(n)))<0||n>r)throw TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return oj(n)&&0!==n?n:0}function oN(e){if(!n8(e)||"function"!=typeof e.getReader)return!1;try{return"boolean"==typeof e.locked}catch(e){return!1}}function oW(e){if(!n8(e)||"function"!=typeof e.getWriter)return!1;try{return"boolean"==typeof e.locked}catch(e){return!1}}function oV(e,t){if(!aC(e))throw TypeError(`${t} is not a ReadableStream.`)}function oM(e,t){e._reader._readRequests.push(t)}function oD(e,t,r){let n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function oF(e){return e._reader._readRequests.length}function oU(e){let t=e._reader;return void 0!==t&&!!oK(t)}class o${constructor(e){if(ox(e,1,"ReadableStreamDefaultReader"),oV(e,"First parameter"),aq(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");om(this,e),this._readRequests=new o_}get closed(){return oK(this)?this._closedPromise:oo(oG("closed"))}cancel(e){return oK(this)?void 0===this._ownerReadableStream?oo(oO("cancel")):ow(this,e):oo(oG("cancel"))}read(){let e,t;if(!oK(this))return oo(oG("read"));if(void 0===this._ownerReadableStream)return oo(oO("read from"));let r=or((r,n)=>{e=r,t=n});return function(e,t){let r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[oy](t)}(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!oK(this))throw oG("releaseLock");void 0!==this._ownerReadableStream&&function(e){oS(e);let t=TypeError("Reader was released");oH(e,t)}(this)}}function oK(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof o$}function oH(e,t){let r=e._readRequests;e._readRequests=new o_,r.forEach(e=>{e._errorSteps(t)})}function oG(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(o$.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n5(o$.prototype.cancel,"cancel"),n5(o$.prototype.read,"read"),n5(o$.prototype.releaseLock,"releaseLock"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(o$.prototype,n4.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});class oY{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?ou(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?ou(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let e=this._reader;return void 0===e?oo(oO("iterate")):oi(e.read(),e=>{var t;return this._ongoingPromise=void 0,e.done&&(this._isFinished=!0,null===(t=this._reader)||void 0===t||t.releaseLock(),this._reader=void 0),e},e=>{var t;throw this._ongoingPromise=void 0,this._isFinished=!0,null===(t=this._reader)||void 0===t||t.releaseLock(),this._reader=void 0,e})}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(void 0===t)return oo(oO("finish iterating"));if(this._reader=void 0,!this._preventCancel){let r=t.cancel(e);return t.releaseLock(),ou(r,()=>({value:e,done:!0}))}return t.releaseLock(),on({value:e,done:!0})}}let oQ={next(){return oX(this)?this._asyncIteratorImpl.next():oo(oJ("next"))},return(e){return oX(this)?this._asyncIteratorImpl.return(e):oo(oJ("return"))}};function oX(e){if(!n8(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof oY}catch(e){return!1}}function oJ(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}"symbol"==typeof n4.asyncIterator&&Object.defineProperty(oQ,n4.asyncIterator,{value(){return this},writable:!0,configurable:!0});let oZ=Number.isNaN||function(e){return e!=e};function o0(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}function o1(e){let t=function(e,t,r){if(e.slice)return e.slice(t,r);let n=r-t,o=new ArrayBuffer(n);return o0(o,0,e,t,n),o}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function o2(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function o3(e,t,r){if("number"!=typeof r||oZ(r)||r<0||r===1/0)throw RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function o4(e){e._queue=new o_,e._queueTotalSize=0}class o6{constructor(){throw TypeError("Illegal constructor")}get view(){if(!o7(this))throw im("view");return this._view}respond(e){if(!o7(this))throw im("respond");if(ox(e,1,"respond"),e=oz(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw RangeError("bytesWritten out of range")}r.buffer=r.buffer,ih(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!o7(this))throw im("respondWithNewView");if(ox(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw TypeError("This BYOB request has been invalidated");e.buffer,function(e,t){let r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw RangeError("The region specified by view is larger than byobRequest");let n=t.byteLength;r.buffer=t.buffer,ih(e,n)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(o6.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),n5(o6.prototype.respond,"respond"),n5(o6.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(o6.prototype,n4.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class o8{constructor(){throw TypeError("Illegal constructor")}get byobRequest(){if(!o5(this))throw iw("byobRequest");return function(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var t;let r=e._pendingPullIntos.peek(),n=new Uint8Array(r.buffer,r.byteOffset+r.bytesFilled,r.byteLength-r.bytesFilled),o=Object.create(o6.prototype);(t=o)._associatedReadableByteStreamController=e,t._view=n,e._byobRequest=o}return e._byobRequest}(this)}get desiredSize(){if(!o5(this))throw iw("desiredSize");return iy(this)}close(){if(!o5(this))throw iw("close");if(this._closeRequested)throw TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if("readable"!==e)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state){if(e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let t=TypeError("Insufficient bytes to fill elements in the given buffer");throw ip(e,t),t}ib(e),aI(t)}}(this)}enqueue(e){if(!o5(this))throw iw("enqueue");if(ox(e,1,"enqueue"),!ArrayBuffer.isView(e))throw TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if("readable"!==t)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);!function(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;let n=t.buffer,o=t.byteOffset,i=t.byteLength;if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();t.buffer,ic(e),t.buffer=t.buffer,"none"===t.readerType&&ia(e,t)}oU(r)?(function(e){let t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;iv(e,t._readRequests.shift())}}(e),0===oF(r))?io(e,n,o,i):(e._pendingPullIntos.length>0&&i_(e),oD(r,new Uint8Array(n,o,i),!1)):iT(r)?(io(e,n,o,i),id(e)):io(e,n,o,i),o9(e)}(this,e)}error(e){if(!o5(this))throw iw("error");ip(this,e)}[ov](e){ie(this),o4(this);let t=this._cancelAlgorithm(e);return ib(this),t}[oy](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void iv(this,e);let r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}let n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}oM(t,e),o9(this)}[og](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new o_,this._pendingPullIntos.push(e)}}}function o5(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof o8}function o7(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof o6}function o9(e){let t=function(e){let t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&!!(oU(t)&&oF(t)>0||iT(t)&&iO(t)>0||iy(e)>0)}(e);if(t){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,oa(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,o9(e)),null),t=>(ip(e,t),null))}}function ie(e){ic(e),e._pendingPullIntos=new o_}function it(e,t){let r=!1;"closed"===e._state&&(r=!0);let n=ir(t);"default"===t.readerType?oD(e,n,r):function(e,t,r){let n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function ir(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function io(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function ii(e,t,r,n){let o;try{o=t.slice(r,r+n)}catch(t){throw ip(e,t),t}io(e,o,0,n)}function ia(e,t){t.bytesFilled>0&&ii(e,t.buffer,t.byteOffset,t.bytesFilled),i_(e)}function is(e,t){let r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+o,a=i-i%r,s=o,l=!1;a>n&&(s=a-t.bytesFilled,l=!0);let u=e._queue;for(;s>0;){let r=u.peek(),n=Math.min(s,r.byteLength),o=t.byteOffset+t.bytesFilled;o0(t.buffer,o,r.buffer,r.byteOffset,n),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,il(e,n,t),s-=n}return l}function il(e,t,r){r.bytesFilled+=t}function iu(e){0===e._queueTotalSize&&e._closeRequested?(ib(e),aI(e._controlledReadableByteStream)):o9(e)}function ic(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function id(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;let t=e._pendingPullIntos.peek();is(e,t)&&(i_(e),it(e._controlledReadableByteStream,t))}}function ih(e,t){let r=e._pendingPullIntos.peek();ic(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&i_(e);let r=e._controlledReadableByteStream;if(iT(r))for(;iO(r)>0;)it(r,i_(e))}(e,r):function(e,t,r){if(il(0,t,r),"none"===r.readerType)return ia(e,r),void id(e);if(r.bytesFilled<r.elementSize)return;i_(e);let n=r.bytesFilled%r.elementSize;if(n>0){let t=r.byteOffset+r.bytesFilled;ii(e,r.buffer,t-n,n)}r.bytesFilled-=n,it(e._controlledReadableByteStream,r),id(e)}(e,t,r),o9(e)}function i_(e){return e._pendingPullIntos.shift()}function ib(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ip(e,t){let r=e._controlledReadableByteStream;"readable"===r._state&&(ie(e),o4(e),ib(e),aB(r,t))}function iv(e,t){let r=e._queue.shift();e._queueTotalSize-=r.byteLength,iu(e);let n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function iy(e){let t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ig(e,t,r){var n,o;let i,a,s;let l=Object.create(o8.prototype);i=void 0!==t.start?()=>t.start(l):()=>{},a=void 0!==t.pull?()=>t.pull(l):()=>on(void 0),s=void 0!==t.cancel?e=>t.cancel(e):()=>on(void 0);let u=t.autoAllocateChunkSize;if(0===u)throw TypeError("autoAllocateChunkSize must be greater than 0");n=e,(o=l)._controlledReadableByteStream=n,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,o4(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=r,o._pullAlgorithm=a,o._cancelAlgorithm=s,o._autoAllocateChunkSize=u,o._pendingPullIntos=new o_,n._readableStreamController=o,oa(on(i()),()=>(o._started=!0,o9(o),null),e=>(ip(o,e),null))}function im(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function iw(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function iS(e,t){e._reader._readIntoRequests.push(t)}function iO(e){return e._reader._readIntoRequests.length}function iT(e){let t=e._reader;return void 0!==t&&!!iA(t)}Object.defineProperties(o8.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),n5(o8.prototype.close,"close"),n5(o8.prototype.enqueue,"enqueue"),n5(o8.prototype.error,"error"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(o8.prototype,n4.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class iR{constructor(e){if(ox(e,1,"ReadableStreamBYOBReader"),oV(e,"First parameter"),aq(e))throw TypeError("This stream has already been locked for exclusive reading by another reader");if(!o5(e._readableStreamController))throw TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");om(this,e),this._readIntoRequests=new o_}get closed(){return iA(this)?this._closedPromise:oo(ij("closed"))}cancel(e){return iA(this)?void 0===this._ownerReadableStream?oo(oO("cancel")):ow(this,e):oo(ij("cancel"))}read(e){let t,r;if(!iA(this))return oo(ij("read"));if(!ArrayBuffer.isView(e))return oo(TypeError("view must be an array buffer view"));if(0===e.byteLength)return oo(TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return oo(TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return oo(oO("read from"));let n=or((e,n)=>{t=e,r=n});return function(e,t,r){let n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){let n=e._controlledReadableByteStream,o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);let i=t.constructor,a=t.buffer,s={buffer:a,bufferByteLength:a.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void iS(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(is(e,s)){let t=ir(s);return iu(e),void r._chunkSteps(t)}if(e._closeRequested){let t=TypeError("Insufficient bytes to fill elements in the given buffer");return ip(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(s),iS(n,r),o9(e)}else{let e=new i(s.buffer,s.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!iA(this))throw ij("releaseLock");void 0!==this._ownerReadableStream&&function(e){oS(e);let t=TypeError("Reader was released");iP(e,t)}(this)}}function iA(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof iR}function iP(e,t){let r=e._readIntoRequests;e._readIntoRequests=new o_,r.forEach(e=>{e._errorSteps(t)})}function ij(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function iE(e,t){let{highWaterMark:r}=e;if(void 0===r)return t;if(oZ(r)||r<0)throw RangeError("Invalid highWaterMark");return r}function ik(e){let{size:t}=e;return t||(()=>1)}function iC(e,t){ok(e,t);let r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:oB(r),size:void 0===n?void 0:iq(n,`${t} has member 'size' that`)}}function iq(e,t){return oC(e,t),t=>oB(e(t))}function ix(e,t,r){return oC(e,r),r=>of(e,t,[r])}function iI(e,t,r){return oC(e,r),()=>of(e,t,[])}function iB(e,t,r){return oC(e,r),r=>oh(e,t,[r])}function iL(e,t,r){return oC(e,r),(r,n)=>of(e,t,[r,n])}Object.defineProperties(iR.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n5(iR.prototype.cancel,"cancel"),n5(iR.prototype.read,"read"),n5(iR.prototype.releaseLock,"releaseLock"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(iR.prototype,n4.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});let iz="function"==typeof AbortController;class iN{constructor(e={},t={}){var r;void 0===e?e=null:oq(e,"First parameter");let n=iC(t,"Second parameter"),o=function(e,t){ok(e,t);let r=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,a=null==e?void 0:e.write;return{abort:void 0===r?void 0:ix(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:iI(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:iB(o,e,`${t} has member 'start' that`),write:void 0===a?void 0:iL(a,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if((r=this)._state="writable",r._storedError=void 0,r._writer=void 0,r._writableStreamController=void 0,r._writeRequests=new o_,r._inFlightWriteRequest=void 0,r._closeRequest=void 0,r._inFlightCloseRequest=void 0,r._pendingAbortRequest=void 0,r._backpressure=!1,void 0!==o.type)throw RangeError("Invalid type is specified");let i=ik(n);!function(e,t,r,n){let o,i;let a=Object.create(iZ.prototype);o=void 0!==t.start?()=>t.start(a):()=>{},i=void 0!==t.write?e=>t.write(e,a):()=>on(void 0),function(e,t,r,n,o,i,a,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,o4(t),t._abortReason=void 0,t._abortController=function(){if(iz)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i;let l=i6(t);iG(e,l);let u=r();oa(on(u),()=>(t._started=!0,i3(t),null),r=>(t._started=!0,iF(e,r),null))}(e,a,o,i,void 0!==t.close?()=>t.close():()=>on(void 0),void 0!==t.abort?e=>t.abort(e):()=>on(void 0),r,n)}(this,o,iE(n,1),i)}get locked(){if(!iW(this))throw i5("locked");return iV(this)}abort(e){return iW(this)?iV(this)?oo(TypeError("Cannot abort a stream that already has a writer")):iM(this,e):oo(i5("abort"))}close(){return iW(this)?iV(this)?oo(TypeError("Cannot close a stream that already has a writer")):iK(this)?oo(TypeError("Cannot close an already-closing stream")):iD(this):oo(i5("close"))}getWriter(){if(!iW(this))throw i5("getWriter");return new iY(this)}}function iW(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof iN}function iV(e){return void 0!==e._writer}function iM(e,t){var r;if("closed"===e._state||"errored"===e._state)return on(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort(t);let n=e._state;if("closed"===n||"errored"===n)return on(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);let i=or((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}});return e._pendingAbortRequest._promise=i,o||iU(e,t),i}function iD(e){var t;let r=e._state;if("closed"===r||"errored"===r)return oo(TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let n=or((t,r)=>{e._closeRequest={_resolve:t,_reject:r}}),o=e._writer;return void 0!==o&&e._backpressure&&"writable"===r&&au(o),o3(t=e._writableStreamController,iJ,0),i3(t),n}function iF(e,t){"writable"!==e._state?i$(e):iU(e,t)}function iU(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let n=e._writer;void 0!==n&&iX(n,t),!(void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest)&&r._started&&i$(e)}function i$(e){e._state="errored",e._writableStreamController[op]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new o_,void 0===e._pendingAbortRequest)return void iH(e);let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void iH(e);oa(e._writableStreamController[ob](r._reason),()=>(r._resolve(),iH(e),null),t=>(r._reject(t),iH(e),null))}function iK(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function iH(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;void 0!==t&&an(t,e._storedError)}function iG(e,t){let r=e._writer;void 0!==r&&t!==e._backpressure&&(t?ai(r):au(r)),e._backpressure=t}Object.defineProperties(iN.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),n5(iN.prototype.abort,"abort"),n5(iN.prototype.close,"close"),n5(iN.prototype.getWriter,"getWriter"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(iN.prototype,n4.toStringTag,{value:"WritableStream",configurable:!0});class iY{constructor(e){if(ox(e,1,"WritableStreamDefaultWriter"),function(e,t){if(!iW(e))throw TypeError(`${t} is not a WritableStream.`)}(e,"First parameter"),iV(e))throw TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let t=e._state;if("writable"===t)!iK(e)&&e._backpressure?ai(this):as(this),at(this);else if("erroring"===t)aa(this,e._storedError),at(this);else if("closed"===t)as(this),at(this),ao(this);else{let t=e._storedError;aa(this,t),ar(this,t)}}get closed(){return iQ(this)?this._closedPromise:oo(i9("closed"))}get desiredSize(){if(!iQ(this))throw i9("desiredSize");if(void 0===this._ownerWritableStream)throw ae("desiredSize");return function(e){let t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:i2(t._writableStreamController)}(this)}get ready(){return iQ(this)?this._readyPromise:oo(i9("ready"))}abort(e){return iQ(this)?void 0===this._ownerWritableStream?oo(ae("abort")):iM(this._ownerWritableStream,e):oo(i9("abort"))}close(){if(!iQ(this))return oo(i9("close"));let e=this._ownerWritableStream;return void 0===e?oo(ae("close")):iK(e)?oo(TypeError("Cannot close an already-closing stream")):iD(this._ownerWritableStream)}releaseLock(){if(!iQ(this))throw i9("releaseLock");void 0!==this._ownerWritableStream&&function(e){let t=e._ownerWritableStream,r=TypeError("Writer was released and can no longer be used to monitor the stream's closedness");iX(e,r),"pending"===e._closedPromiseState?an(e,r):ar(e,r),t._writer=void 0,e._ownerWritableStream=void 0}(this)}write(e){return iQ(this)?void 0===this._ownerWritableStream?oo(ae("write to")):function(e,t){let r=e._ownerWritableStream,n=r._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return i4(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return oo(ae("write to"));let i=r._state;if("errored"===i)return oo(r._storedError);if(iK(r)||"closed"===i)return oo(TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return oo(r._storedError);let a=or((e,t)=>{r._writeRequests.push({_resolve:e,_reject:t})});return function(e,t,r){try{o3(e,t,r)}catch(t){return void i4(e,t)}let n=e._controlledWritableStream;iK(n)||"writable"!==n._state||iG(n,i6(e)),i3(e)}(n,t,o),a}(this,e):oo(i9("write"))}}function iQ(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof iY}function iX(e,t){"pending"===e._readyPromiseState?al(e,t):aa(e,t)}Object.defineProperties(iY.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),n5(iY.prototype.abort,"abort"),n5(iY.prototype.close,"close"),n5(iY.prototype.releaseLock,"releaseLock"),n5(iY.prototype.write,"write"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(iY.prototype,n4.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});let iJ={};class iZ{constructor(){throw TypeError("Illegal constructor")}get abortReason(){if(!i0(this))throw i7("abortReason");return this._abortReason}get signal(){if(!i0(this))throw i7("signal");if(void 0===this._abortController)throw TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!i0(this))throw i7("error");"writable"===this._controlledWritableStream._state&&i8(this,e)}[ob](e){let t=this._abortAlgorithm(e);return i1(this),t}[op](){o4(this)}}function i0(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof iZ}function i1(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function i2(e){return e._strategyHWM-e._queueTotalSize}function i3(e){let t=e._controlledWritableStream;if(!e._started||void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void i$(t);if(0===e._queue.length)return;let r=e._queue.peek().value;r===iJ?function(e){var t;let r=e._controlledWritableStream;(t=r)._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0,o2(e);let n=e._closeAlgorithm();i1(e),oa(n,()=>((function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let t=e._writer;void 0!==t&&ao(t)})(r),null),e=>{var t;return(t=r)._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),iF(t,e),null})}(e):function(e,t){let r=e._controlledWritableStream;r._inFlightWriteRequest=r._writeRequests.shift(),oa(e._writeAlgorithm(t),()=>{var t;(t=r)._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0;let n=r._state;if(o2(e),!iK(r)&&"writable"===n){let t=i6(e);iG(r,t)}return i3(e),null},t=>{var n;return"writable"===r._state&&i1(e),(n=r)._inFlightWriteRequest._reject(t),n._inFlightWriteRequest=void 0,iF(n,t),null})}(e,r)}function i4(e,t){"writable"===e._controlledWritableStream._state&&i8(e,t)}function i6(e){return 0>=i2(e)}function i8(e,t){let r=e._controlledWritableStream;i1(e),iU(r,t)}function i5(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function i7(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function i9(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function ae(e){return TypeError("Cannot "+e+" a stream using a released writer")}function at(e){e._closedPromise=or((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function ar(e,t){at(e),an(e,t)}function an(e,t){void 0!==e._closedPromise_reject&&(oc(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ao(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ai(e){e._readyPromise=or((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function aa(e,t){ai(e),al(e,t)}function as(e){ai(e),au(e)}function al(e,t){void 0!==e._readyPromise_reject&&(oc(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function au(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(iZ.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof n4.toStringTag&&Object.defineProperty(iZ.prototype,n4.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});let ac="undefined"!=typeof DOMException?DOMException:void 0,ad=!function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(ac)?function(){let e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}():ac;function ah(e,t,r,n,o,i){let a=e.getReader(),s=t.getWriter();aC(e)&&(e._disturbed=!0);let l,u,c,d=!1,h=!1,f="readable",_="writable",b=!1,p=!1,v=or(e=>{c=e}),y=Promise.resolve(void 0);return or((g,m)=>{let w;function S(){if(d)return;let e=or((e,t)=>{!function r(n){n?e():oi(d?on(!0):oi(s.ready,()=>oi(a.read(),e=>!!e.done||(oc(y=s.write(e.value)),!1))),r,t)}(!1)});oc(e)}function O(){return f="closed",r?P():A(()=>(iW(t)&&(b=iK(t),_=t._state),b||"closed"===_?on(void 0):"erroring"===_||"errored"===_?oo(u):(b=!0,s.close())),!1,void 0),null}function T(e){return d||(f="errored",l=e,n?P(!0,e):A(()=>s.abort(e),!0,e)),null}function R(e){return h||(_="errored",u=e,o?P(!0,e):A(()=>a.cancel(e),!0,e)),null}if(void 0!==i&&(w=()=>{let e=void 0!==i.reason?i.reason:new ad("Aborted","AbortError"),t=[];n||t.push(()=>"writable"===_?s.abort(e):on(void 0)),o||t.push(()=>"readable"===f?a.cancel(e):on(void 0)),A(()=>Promise.all(t.map(e=>e())),!0,e)},i.aborted?w():i.addEventListener("abort",w)),aC(e)&&(f=e._state,l=e._storedError),iW(t)&&(_=t._state,u=t._storedError,b=iK(t)),aC(e)&&iW(t)&&(p=!0,c()),"errored"===f)T(l);else if("erroring"===_||"errored"===_)R(u);else if("closed"===f)O();else if(b||"closed"===_){let e=TypeError("the destination writable stream closed before all data could be piped to it");o?P(!0,e):A(()=>a.cancel(e),!0,e)}function A(e,t,r){function n(){let e;return"writable"!==_||b?o():os(on(function t(){if(e!==y)return e=y,ou(y,t,t)}()),o),null}function o(){return e?oa(e(),()=>j(t,r),e=>j(!0,e)):j(t,r),null}d||(d=!0,p?n():os(v,n))}function P(e,t){A(void 0,e,t)}function j(e,t){return h=!0,s.releaseLock(),a.releaseLock(),void 0!==i&&i.removeEventListener("abort",w),e?m(t):g(void 0),null}d||(oa(a.closed,O,T),oa(s.closed,function(){return h||(_="closed"),null},R)),p?S():od(()=>{p=!0,c(),S()})})}function af(e,t){return!function(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}(e)?function(e,t){let r=e.getReader(),n,o,i,a,s,l=!1,u=!1,c=!1,d=!1,h=or(e=>{s=e});function f(){return l?(u=!0,on(void 0)):(l=!0,oa(r.read(),e=>{if(u=!1,e.done)return c||i.close(),d||a.close(),c&&d||s(void 0),null;let t=e.value;return c||i.enqueue(t),d||a.enqueue(t),l=!1,u&&f(),null},()=>(l=!1,null)),on(void 0))}let _=new ak({start(e){i=e},pull:f,cancel:function(e){if(c=!0,n=e,d){let e=[n,o],t=r.cancel(e);s(t)}return h}}),b=new ak({start(e){a=e},pull:f,cancel:function(e){if(d=!0,o=e,c){let e=[n,o],t=r.cancel(e);s(t)}return h}});return ol(r.closed,e=>(i.error(e),a.error(e),c&&d||s(void 0),null)),[_,b]}(e):function(e){let t,r,n,o,i,a=e.getReader(),s=!1,l=!1,u=!1,c=!1,d=!1,h=!1,f=or(e=>{i=e});function _(e){ol(e.closed,t=>(e!==a||(n.error(t),o.error(t),d&&h||i(void 0)),null))}function b(){s&&(a.releaseLock(),_(a=e.getReader()),s=!1),oa(a.read(),e=>{var t,r;if(u=!1,c=!1,e.done)return d||n.close(),h||o.close(),null===(t=n.byobRequest)||void 0===t||t.respond(0),null===(r=o.byobRequest)||void 0===r||r.respond(0),d&&h||i(void 0),null;let s=e.value,f=s;if(!d&&!h)try{f=o1(s)}catch(e){return n.error(e),o.error(e),i(a.cancel(e)),null}return d||n.enqueue(s),h||o.enqueue(f),l=!1,u?v():c&&y(),null},()=>(l=!1,null))}function p(t,r){s||(a.releaseLock(),_(a=e.getReader({mode:"byob"})),s=!0);let f=r?o:n,b=r?n:o;oa(a.read(t),e=>{var t;u=!1,c=!1;let n=r?h:d,o=r?d:h;if(e.done){n||f.close(),o||b.close();let r=e.value;return void 0!==r&&(n||f.byobRequest.respondWithNewView(r),o||null===(t=b.byobRequest)||void 0===t||t.respond(0)),n&&o||i(void 0),null}let s=e.value;if(o)n||f.byobRequest.respondWithNewView(s);else{let e;try{e=o1(s)}catch(e){return f.error(e),b.error(e),i(a.cancel(e)),null}n||f.byobRequest.respondWithNewView(s),b.enqueue(e)}return l=!1,u?v():c&&y(),null},()=>(l=!1,null))}function v(){if(l)return u=!0,on(void 0);l=!0;let e=n.byobRequest;return null===e?b():p(e.view,!1),on(void 0)}function y(){if(l)return c=!0,on(void 0);l=!0;let e=o.byobRequest;return null===e?b():p(e.view,!0),on(void 0)}let g=new ak({type:"bytes",start(e){n=e},pull:v,cancel:function(e){if(d=!0,t=e,h){let e=[t,r],n=a.cancel(e);i(n)}return f}}),m=new ak({type:"bytes",start(e){o=e},pull:y,cancel:function(e){if(h=!0,r=e,d){let e=[t,r],n=a.cancel(e);i(n)}return f}});return _(a),[g,m]}(e)}class a_{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!ab(this))throw aS("desiredSize");return ag(this)}close(){if(!ab(this))throw aS("close");if(!am(this))throw TypeError("The stream is not in a state that permits close");!function(e){if(!am(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(av(e),aI(t))}(this)}enqueue(e){if(!ab(this))throw aS("enqueue");if(!am(this))throw TypeError("The stream is not in a state that permits enqueue");return function(e,t){if(!am(e))return;let r=e._controlledReadableStream;if(aq(r)&&oF(r)>0)oD(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw ay(e,t),t}try{o3(e,t,r)}catch(t){throw ay(e,t),t}}ap(e)}(this,e)}error(e){if(!ab(this))throw aS("error");ay(this,e)}[ov](e){o4(this);let t=this._cancelAlgorithm(e);return av(this),t}[oy](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=o2(this);this._closeRequested&&0===this._queue.length?(av(this),aI(t)):ap(this),e._chunkSteps(r)}else oM(t,e),ap(this)}[og](){}}function ab(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof a_}function ap(e){let t=function(e){let t=e._controlledReadableStream;return!!am(e)&&!!e._started&&!!(aq(t)&&oF(t)>0||ag(e)>0)}(e);if(t){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,oa(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ap(e)),null),t=>(ay(e,t),null))}}function av(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ay(e,t){let r=e._controlledReadableStream;"readable"===r._state&&(o4(e),av(e),aB(r,t))}function ag(e){let t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function am(e){return!e._closeRequested&&"readable"===e._controlledReadableStream._state}function aw(e,t,r,n){var o,i;let a,s,l;let u=Object.create(a_.prototype);a=void 0!==t.start?()=>t.start(u):()=>{},s=void 0!==t.pull?()=>t.pull(u):()=>on(void 0),l=void 0!==t.cancel?e=>t.cancel(e):()=>on(void 0),o=e,(i=u)._controlledReadableStream=o,i._queue=void 0,i._queueTotalSize=void 0,o4(i),i._started=!1,i._closeRequested=!1,i._pullAgain=!1,i._pulling=!1,i._strategySizeAlgorithm=n,i._strategyHWM=r,i._pullAlgorithm=s,i._cancelAlgorithm=l,o._readableStreamController=i,oa(on(a()),()=>(i._started=!0,ap(i),null),e=>(ay(i,e),null))}function aS(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function aO(e,t,r){return oC(e,r),r=>of(e,t,[r])}function aT(e,t,r){return oC(e,r),r=>of(e,t,[r])}function aR(e,t,r){return oC(e,r),r=>oh(e,t,[r])}function aA(e,t){if("bytes"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function aP(e,t){if("byob"!=(e=`${e}`))throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function aj(e,t){ok(e,t);let r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!n,preventClose:!!o,signal:i}}function aE(e,t){ok(e,t);let r=null==e?void 0:e.readable;oI(r,"readable","ReadableWritablePair"),function(e,t){if(!oN(e))throw TypeError(`${t} is not a ReadableStream.`)}(r,`${t} has member 'readable' that`);let n=null==e?void 0:e.writable;return oI(n,"writable","ReadableWritablePair"),function(e,t){if(!oW(e))throw TypeError(`${t} is not a WritableStream.`)}(n,`${t} has member 'writable' that`),{readable:r,writable:n}}Object.defineProperties(a_.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),n5(a_.prototype.close,"close"),n5(a_.prototype.enqueue,"enqueue"),n5(a_.prototype.error,"error"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(a_.prototype,n4.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class ak{constructor(e={},t={}){var r;void 0===e?e=null:oq(e,"First parameter");let n=iC(t,"Second parameter"),o=function(e,t){ok(e,t);let r=null==e?void 0:e.autoAllocateChunkSize,n=null==e?void 0:e.cancel,o=null==e?void 0:e.pull,i=null==e?void 0:e.start,a=null==e?void 0:e.type;return{autoAllocateChunkSize:void 0===r?void 0:oz(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===n?void 0:aO(n,e,`${t} has member 'cancel' that`),pull:void 0===o?void 0:aT(o,e,`${t} has member 'pull' that`),start:void 0===i?void 0:aR(i,e,`${t} has member 'start' that`),type:void 0===a?void 0:aA(a,`${t} has member 'type' that`)}}(e,"First parameter");if((r=this)._state="readable",r._reader=void 0,r._storedError=void 0,r._disturbed=!1,"bytes"===o.type){if(void 0!==n.size)throw RangeError("The strategy for a byte stream cannot have a size function");ig(this,o,iE(n,0))}else{let e=ik(n);aw(this,o,iE(n,1),e)}}get locked(){if(!aC(this))throw aL("locked");return aq(this)}cancel(e){return aC(this)?aq(this)?oo(TypeError("Cannot cancel a stream that already has a reader")):ax(this,e):oo(aL("cancel"))}getReader(e){if(!aC(this))throw aL("getReader");return void 0===function(e,t){ok(e,t);let r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:aP(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?new o$(this):new iR(this)}pipeThrough(e,t={}){if(!oN(this))throw aL("pipeThrough");ox(e,1,"pipeThrough");let r=aE(e,"First parameter"),n=aj(t,"Second parameter");if(this.locked)throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(r.writable.locked)throw TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return oc(ah(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){let r;if(!oN(this))return oo(aL("pipeTo"));if(void 0===e)return oo("Parameter 1 is required in 'pipeTo'.");if(!oW(e))return oo(TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));try{r=aj(t,"Second parameter")}catch(e){return oo(e)}return this.locked?oo(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e.locked?oo(TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ah(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!oN(this))throw aL("tee");if(this.locked)throw TypeError("Cannot tee a stream that already has a reader");return af(this)}values(e){if(!oN(this))throw aL("values");return function(e,t){let r=e.getReader(),n=new oY(r,t),o=Object.create(oQ);return o._asyncIteratorImpl=n,o}(this,function(e,t){ok(e,t);let r=null==e?void 0:e.preventCancel;return{preventCancel:!!r}}(e,"First parameter").preventCancel)}}function aC(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof ak}function aq(e){return void 0!==e._reader}function ax(e,t){if(e._disturbed=!0,"closed"===e._state)return on(void 0);if("errored"===e._state)return oo(e._storedError);aI(e);let r=e._reader;if(void 0!==r&&iA(r)){let e=r._readIntoRequests;r._readIntoRequests=new o_,e.forEach(e=>{e._closeSteps(void 0)})}return ou(e._readableStreamController[ov](t),n6)}function aI(e){e._state="closed";let t=e._reader;if(void 0!==t&&(oP(t),oK(t))){let e=t._readRequests;t._readRequests=new o_,e.forEach(e=>{e._closeSteps()})}}function aB(e,t){e._state="errored",e._storedError=t;let r=e._reader;void 0!==r&&(oA(r,t),oK(r)?oH(r,t):iP(r,t))}function aL(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function az(e,t){ok(e,t);let r=null==e?void 0:e.highWaterMark;return oI(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:oB(r)}}Object.defineProperties(ak.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),n5(ak.prototype.cancel,"cancel"),n5(ak.prototype.getReader,"getReader"),n5(ak.prototype.pipeThrough,"pipeThrough"),n5(ak.prototype.pipeTo,"pipeTo"),n5(ak.prototype.tee,"tee"),n5(ak.prototype.values,"values"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(ak.prototype,n4.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof n4.asyncIterator&&Object.defineProperty(ak.prototype,n4.asyncIterator,{value:ak.prototype.values,writable:!0,configurable:!0});let aN=e=>e.byteLength;n5(aN,"size");class aW{constructor(e){ox(e,1,"ByteLengthQueuingStrategy"),e=az(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!aM(this))throw aV("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!aM(this))throw aV("size");return aN}}function aV(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function aM(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof aW}Object.defineProperties(aW.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n4.toStringTag&&Object.defineProperty(aW.prototype,n4.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});let aD=()=>1;n5(aD,"size");class aF{constructor(e){ox(e,1,"CountQueuingStrategy"),e=az(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!a$(this))throw aU("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!a$(this))throw aU("size");return aD}}function aU(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function a$(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof aF}function aK(e,t,r){return oC(e,r),r=>of(e,t,[r])}function aH(e,t,r){return oC(e,r),r=>oh(e,t,[r])}function aG(e,t,r){return oC(e,r),(r,n)=>of(e,t,[r,n])}Object.defineProperties(aF.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n4.toStringTag&&Object.defineProperty(aF.prototype,n4.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class aY{constructor(e={},t={},r={}){let n;void 0===e&&(e=null);let o=iC(t,"Second parameter"),i=iC(r,"Third parameter"),a=function(e,t){ok(e,t);let r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,i=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:aK(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===o?void 0:aH(o,e,`${t} has member 'start' that`),transform:void 0===i?void 0:aG(i,e,`${t} has member 'transform' that`),writableType:a}}(e,"First parameter");if(void 0!==a.readableType)throw RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw RangeError("Invalid writableType specified");let s=iE(i,0),l=ik(i),u=iE(o,1),c=ik(o);(function(e,t,r,n,o,i){var a,s;function l(){return t}e._writableState="writable",e._writableStoredError=void 0,e._writableHasInFlightOperation=!1,e._writableStarted=!1,e._writable=(a=e,new iN({start(e){a._writableController=e;try{let t=e.signal;void 0!==t&&t.addEventListener("abort",()=>{"writable"===a._writableState&&(a._writableState="erroring",t.reason&&(a._writableStoredError=t.reason))})}catch(e){}return ou(t,()=>(a._writableStarted=!0,so(a),null),e=>{throw a._writableStarted=!0,st(a,e),e})},write:t=>(a._writableHasInFlightOperation=!0,ou(function(e,t){let r=e._transformStreamController;return e._backpressure?ou(e._backpressureChangePromise,()=>{if("erroring"===(iW(e._writable)?e._writable._state:e._writableState))throw iW(e._writable)?e._writable._storedError:e._writableStoredError;return a4(r,t)}):a4(r,t)}(e,t),()=>(a._writableHasInFlightOperation=!1,so(a),null),e=>{throw a._writableHasInFlightOperation=!1,st(a,e),e})),close:()=>(a._writableHasInFlightOperation=!0,ou(function(e){let t=e._transformStreamController,r=t._flushAlgorithm();return a2(t),ou(r,()=>{if("errored"===e._readableState)throw e._readableStoredError;a5(e)&&a7(e)},t=>{throw aX(e,t),e._readableStoredError})}(e),()=>{var e;return(e=a)._writableHasInFlightOperation=!1,"erroring"===e._writableState&&(e._writableStoredError=void 0),e._writableState="closed",null},e=>{throw a._writableHasInFlightOperation=!1,a._writableState,st(a,e),e})),abort:t=>(a._writableState="errored",a._writableStoredError=t,aX(e,t),on(void 0))},{highWaterMark:r,size:n})),e._readableState="readable",e._readableStoredError=void 0,e._readableCloseRequested=!1,e._readablePulling=!1,e._readable=(s=e,new ak({start:e=>(s._readableController=e,t.catch(e=>{a9(s,e)})),pull:()=>(s._readablePulling=!0,(aZ(e,!1),e._backpressureChangePromise).catch(e=>{a9(s,e)})),cancel:t=>(s._readableState="closed",aJ(e,t),on(void 0))},{highWaterMark:o,size:i})),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,aZ(e,!0),e._transformStreamController=void 0})(this,or(e=>{n=e}),u,c,s,l),function(e,t){var r,n;let o,i;let a=Object.create(a0.prototype);o=void 0!==t.transform?e=>t.transform(e,a):e=>{try{return a3(a,e),on(void 0)}catch(e){return oo(e)}},i=void 0!==t.flush?()=>t.flush(a):()=>on(void 0),r=e,(n=a)._controlledTransformStream=r,r._transformStreamController=n,n._transformAlgorithm=o,n._flushAlgorithm=i}(this,a),void 0!==a.start?n(a.start(this._transformStreamController)):n(void 0)}get readable(){if(!aQ(this))throw a8("readable");return this._readable}get writable(){if(!aQ(this))throw a8("writable");return this._writable}}function aQ(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof aY}function aX(e,t){a9(e,t),aJ(e,t)}function aJ(e,t){a2(e._transformStreamController),e._writableController.error(t),"writable"===e._writableState&&sr(e,t),e._backpressure&&aZ(e,!1)}function aZ(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=or(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(aY.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof n4.toStringTag&&Object.defineProperty(aY.prototype,n4.toStringTag,{value:"TransformStream",configurable:!0});class a0{constructor(){throw TypeError("Illegal constructor")}get desiredSize(){if(!a1(this))throw a6("desiredSize");return se(this._controlledTransformStream)}enqueue(e){if(!a1(this))throw a6("enqueue");a3(this,e)}error(e){if(!a1(this))throw a6("error");aX(this._controlledTransformStream,e)}terminate(){if(!a1(this))throw a6("terminate");!function(e){let t=e._controlledTransformStream;a5(t)&&a7(t);let r=TypeError("TransformStream terminated");aJ(t,r)}(this)}}function a1(e){return!!n8(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof a0}function a2(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function a3(e,t){let r=e._controlledTransformStream;if(!a5(r))throw TypeError("Readable side is not in a state that permits enqueue");try{!function(e,t){e._readablePulling=!1;try{e._readableController.enqueue(t)}catch(t){throw a9(e,t),t}}(r,t)}catch(e){throw aJ(r,e),r._readableStoredError}let n=!(a5(r)&&(r._readablePulling||se(r)>0));n!==r._backpressure&&aZ(r,!0)}function a4(e,t){return ou(e._transformAlgorithm(t),void 0,t=>{throw aX(e._controlledTransformStream,t),t})}function a6(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function a8(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function a5(e){return!e._readableCloseRequested&&"readable"===e._readableState}function a7(e){e._readableState="closed",e._readableCloseRequested=!0,e._readableController.close()}function a9(e,t){"readable"===e._readableState&&(e._readableState="errored",e._readableStoredError=t),e._readableController.error(t)}function se(e){return e._readableController.desiredSize}function st(e,t){"writable"!==e._writableState?sn(e):sr(e,t)}function sr(e,t){e._writableState="erroring",e._writableStoredError=t,!e._writableHasInFlightOperation&&e._writableStarted&&sn(e)}function sn(e){e._writableState="errored"}function so(e){"erroring"===e._writableState&&sn(e)}Object.defineProperties(a0.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),n5(a0.prototype.enqueue,"enqueue"),n5(a0.prototype.error,"error"),n5(a0.prototype.terminate,"terminate"),"symbol"==typeof n4.toStringTag&&Object.defineProperty(a0.prototype,n4.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});let si=globalThis;si.AbortController;let sa=null,ss=iN,sl=null;si.ReadableStream&&si.WritableStream&&si.TransformStream&&(sa=si.ReadableStream,ss=si.WritableStream,sl=si.TransformStream);let{console:su}=globalThis,sc=su.createTask?.bind(su)??(()=>({run:e=>e()}));class sd{task;resolver;value;consumed;constructor(e){this.task=sc("Consumable"),this.value=e,this.resolver=new n2,this.consumed=this.resolver.promise}consume(){this.resolver.resolve()}error(e){this.resolver.reject(e)}async tryConsume(e){try{let t=await this.task.run(()=>e(this.value));return this.consume(),t}catch(e){throw this.resolver.reject(e),e}}}class sh extends ss{static async write(e,t){let r=new sd(t);await e.write(r),await r.consumed}constructor(e,t){let r;t&&(r={},"highWaterMark"in t&&(r.highWaterMark=t.highWaterMark),"size"in t&&(r.size=e=>t.size(e.value))),super({start:()=>e.start?.(),async write(t){await t.tryConsume(t=>e.write?.(t)),t.consume()},abort:t=>e.abort?.(t),close:()=>e.close?.()},r)}}class sf extends R.BaseSession{constructor(e,t){super(t)}start(){return v(this,void 0,void 0,function*(){let e=nq.value;e&&(this.open=!0,this.shell=yield e.subprocess.shell(),this.writer=this.shell.stdin.getWriter(),this.shell.stdout.pipeTo(new ss({write:e=>{this.emitOutput(Buffer.from(e))}})),e.disconnected.then(()=>{this.emitOutput(Buffer.from("\n[Disconnected]\n","utf8"))}))})}resize(e,t){var r;null===(r=this.shell)||void 0===r||r.resize(e,t)}write(e){sh.write(this.writer,e)}kill(e){var t;null===(t=this.shell)||void 0===t||t.kill()}gracefullyKillProcess(){return v(this,void 0,void 0,function*(){})}supportsWorkingDirectory(){return!1}getWorkingDirectory(){return v(this,void 0,void 0,function*(){return null})}}let s_=class extends R.BaseTerminalTabComponent{constructor(e){super(e)}ngOnInit(){this.logger=this.log.create("terminalTab"),this.session=new sf(this.injector,this.logger),super.ngOnInit()}onFrontendReady(){this.initializeSession(),super.onFrontendReady()}initializeSession(){this.session.start(void 0),this.attachSessionHandlers(!0),this.recoveryStateChangedHint.next()}ngOnDestroy(){var e;super.ngOnDestroy(),null===(e=this.session)||void 0===e||e.destroy()}};s_.ctorParameters=()=>[{type:m.Injector}],s_=b([(0,m.Component)({selector:"adbTerminalTab",template:R.BaseTerminalTabComponent.template,styles:R.BaseTerminalTabComponent.styles,animations:R.BaseTerminalTabComponent.animations}),p("design:paramtypes",[m.Injector])],s_);let sb=class extends O.ProfileProvider{constructor(){super(...arguments),this.id="adb",this.name="Adb shell"}getBuiltinProfiles(){return v(this,void 0,void 0,function*(){return[{id:"adb",type:"adb",name:"ADB shell",icon:"fas fa-microchip",isBuiltin:!0}]})}getNewTabParameters(e){return v(this,void 0,void 0,function*(){return{type:s_,inputs:{profile:e}}})}getDescription(e){return""}};sb=b([(0,m.Injectable)({providedIn:"root"})],sb);let sp=class{constructor(e){}};sp.ctorParameters=()=>[{type:O.AppService}],sp=b([(0,m.NgModule)({imports:[w.FormsModule,S.NgbModule,T(),A()],providers:[{provide:O.ProfileProvider,useClass:sb,multi:!0},{provide:O.ToolbarButtonProvider,useClass:nx,multi:!0}],declarations:[s_],exports:[s_]}),p("design:paramtypes",[O.AppService])],sp);let sv=sp})(),l})());